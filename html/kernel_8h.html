<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Starburst: include/sys/kernel.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Starburst
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('kernel_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">include/sys/kernel.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Declaration of all kernel functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="helix__config_8h_source.html">sys/helix_config.h</a>&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="device_8h_source.html">sys/device.h</a>&gt;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;reent.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="hooks_8h_source.html">sys/hooks.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="pthread_8h_source.html">pthread.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="signal_8h_source.html">sys/signal.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="kernel__types_8h_source.html">sys/kernel_types.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="lock_8h_source.html">lock.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="mail_8h_source.html">mail.h</a>&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for kernel.h:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_8h__incl.png" border="0" usemap="#include_2sys_2kernel_8h" alt=""/></div>
<map name="include_2sys_2kernel_8h" id="include_2sys_2kernel_8h">
<area shape="rect" id="node3" href="helix__config_8h.html" title="Configuration of the OS." alt="" coords="99,246,227,277"/><area shape="rect" id="node7" href="device_8h.html" title="Declaration of functions that gives information about the hardware platform." alt="" coords="27,86,125,117"/><area shape="rect" id="node10" href="kernel__types_8h.html" title="sys/kernel_types.h" alt="" coords="96,166,229,197"/><area shape="rect" id="node18" href="hooks_8h.html" title="Hooks in kernel, to get specific call&#45;backs or information." alt="" coords="705,86,799,117"/><area shape="rect" id="node20" href="pthread_8h.html" title="POSIX Pthread standard implementation." alt="" coords="417,86,495,117"/><area shape="rect" id="node28" href="signal_8h.html" title="signal.h" alt="" coords="643,166,709,197"/><area shape="rect" id="node36" href="lock_8h.html" title="lock.h" alt="" coords="256,86,312,117"/><area shape="rect" id="node41" href="mail_8h.html" title="Mailboxes: a simple system to pass integer values around." alt="" coords="823,86,879,117"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="kernel_8h__dep__incl.png" border="0" usemap="#include_2sys_2kernel_8hdep" alt=""/></div>
<map name="include_2sys_2kernel_8hdep" id="include_2sys_2kernel_8hdep">
<area shape="rect" id="node3" href="daemons_8h.html" title="All daemon definitions." alt="" coords="501,86,637,117"/><area shape="rect" id="node7" href="api_8h.html" title="Global header file that includes all functions of the OS." alt="" coords="2849,166,2972,197"/><area shape="rect" id="node26" href="kernel_8cc.html" title="Implementation of all kernel functions." alt="" coords="5,326,123,357"/><area shape="rect" id="node38" href="malloc_8cc.html" title="Heap management." alt="" coords="227,326,347,357"/><area shape="rect" id="node43" href="workqueue_8h.html" title="include/workqueue.h" alt="" coords="5781,326,5928,357"/><area shape="rect" id="node69" href="mc_8cc.html" title="ipc/mc.cc" alt="" coords="5488,246,5565,277"/><area shape="rect" id="node76" href="device_8cc.html" title="Default implementation of the device information functions." alt="" coords="5589,246,5709,277"/><area shape="rect" id="node119" href="syscall_8h.html" title="System calls to kernel functions." alt="" coords="1332,86,1479,117"/><area shape="rect" id="node5" href="tdfifosize_8cc.html" title="arch/tdfifosize.cc" alt="" coords="459,166,581,197"/><area shape="rect" id="node12" href="helix_8h.html" title="Root header file for programming for Helix." alt="" coords="3792,406,3899,437"/><area shape="rect" id="node51" href="MallocDaemon_8cc.html" title="A daemon to handle all malloc (and friends) requests in predictable order, thread&#45;safe." alt="" coords="501,246,693,277"/><area shape="rect" id="node57" href="TimerDaemon_8cc.html" title="Daemon to handle all timer calls." alt="" coords="240,246,427,277"/><area shape="rect" id="node107" href="DefaultTaskDaemon_8cc.html" title="Daemon for communication and synchronization in the SoC." alt="" coords="707,166,931,197"/><area shape="rect" id="node111" href="ShutdownDaemon_8cc.html" title="Implementation of a gracefull shutdown daemon." alt="" coords="955,166,1165,197"/><area shape="rect" id="node113" href="TaskDaemon_8cc.html" title="Default implementation of the user specific task daemon." alt="" coords="101,166,283,197"/><area shape="rect" id="node9" href="fifo_8h.html" title="C&#45;HEAP kind of FIFO implementation using FIFO memories or shared heap." alt="" coords="848,246,944,277"/><area shape="rect" id="node14" href="pipe_8cc.html" title="Implementation of pipe() and friends." alt="" coords="1207,326,1292,357"/><area shape="rect" id="node16" href="io_8h.html" title="Declaration of all I/O function, types and address macros." alt="" coords="3587,246,3701,277"/><area shape="rect" id="node19" href="render_8h.html" title="include/render/render.h" alt="" coords="3765,326,3925,357"/><area shape="rect" id="node22" href="ringratecontrol_8h.html" title="include/accelerator/ringratecontrol.h" alt="" coords="3360,326,3595,357"/><area shape="rect" id="node24" href="newlibstubs_8cc.html" title="Implementation of the newlib stubs and syscalls." alt="" coords="3619,326,3741,357"/><area shape="rect" id="node28" href="LocalBuffer_8cc.html" title="com/LocalBuffer.cc" alt="" coords="4963,246,5099,277"/><area shape="rect" id="node30" href="OverlappingBuffer_8cc.html" title="com/OverlappingBuffer.cc" alt="" coords="5123,246,5296,277"/><area shape="rect" id="node32" href="SlidingBuffer_8cc.html" title="com/SlidingBuffer.cc" alt="" coords="5320,246,5464,277"/><area shape="rect" id="node35" href="llock_8h.html" title="include/llock.h" alt="" coords="717,246,824,277"/><area shape="rect" id="node40" href="cfifo_8h.html" title="An easy to use C&#45;HEAP fifo implementation." alt="" coords="4837,246,4939,277"/><area shape="rect" id="node46" href="syncevent_8h.html" title="include/syncevent.h" alt="" coords="3776,246,3915,277"/><area shape="rect" id="node53" href="mapping_8cc.html" title="daemons/mapping.cc" alt="" coords="3939,246,4088,277"/><area shape="rect" id="node55" href="ProfilerDaemon_8cc.html" title="MicroBlaze profiling daemon." alt="" coords="4112,246,4307,277"/><area shape="rect" id="node60" href="bitshark_8h.html" title="include/bitshark/bitshark.h" alt="" coords="4331,246,4504,277"/><area shape="rect" id="node62" href="dir_8cc.html" title="io/dir.cc" alt="" coords="4528,246,4597,277"/><area shape="rect" id="node65" href="cxx__atomicity_8cc.html" title="ipc/cxx_atomicity.cc" alt="" coords="4621,246,4763,277"/><area shape="rect" id="node67" href="lock_8cc.html" title="ipc/lock.cc" alt="" coords="1483,246,1568,277"/><area shape="rect" id="node72" href="rc_8cc.html" title="ipc/rc.cc" alt="" coords="1592,246,1661,277"/><area shape="rect" id="node74" href="api_8cc.html" title="Implementation of some generic non&#45;kernel OS functions." alt="" coords="1685,246,1784,277"/><area shape="rect" id="node78" href="hooks_8cc.html" title="Support for hooks into specific system calls." alt="" coords="1808,246,1925,277"/><area shape="rect" id="node81" href="resource_8cc.html" title="kernel/resource.cc" alt="" coords="1949,246,2083,277"/><area shape="rect" id="node83" href="kernel_2signal_8cc.html" title="Signal handler functions." alt="" coords="2107,246,2221,277"/><area shape="rect" id="node85" href="wrap__calloc_8cc.html" title="kernel/wrap_calloc.cc" alt="" coords="2245,246,2397,277"/><area shape="rect" id="node87" href="wrap__exit_8cc.html" title="kernel/wrap_exit.cc" alt="" coords="2421,246,2557,277"/><area shape="rect" id="node89" href="wrap__free_8cc.html" title="kernel/wrap_free.cc" alt="" coords="2581,246,2720,277"/><area shape="rect" id="node91" href="wrap__malloc_8cc.html" title="kernel/wrap_malloc.cc" alt="" coords="2744,246,2899,277"/><area shape="rect" id="node93" href="wrap__realloc_8cc.html" title="kernel/wrap_realloc.cc" alt="" coords="2923,246,3080,277"/><area shape="rect" id="node95" href="barrier_8cc.html" title="POSIX barrier implementation, with software cache coherency." alt="" coords="968,246,1080,277"/><area shape="rect" id="node97" href="cond_8cc.html" title="POSIX condition implementation, with software cache coherency." alt="" coords="3104,246,3208,277"/><area shape="rect" id="node99" href="key_8cc.html" title="POSIX key implementation." alt="" coords="3232,246,3328,277"/><area shape="rect" id="node101" href="mutex_8cc.html" title="POSIX mutex implementation, with software cache coherency." alt="" coords="1104,246,1213,277"/><area shape="rect" id="node103" href="pthread_8cc.html" title="POSIX thread implementation for basic process management." alt="" coords="1237,246,1357,277"/><area shape="rect" id="node105" href="posix_2signal_8cc.html" title="posix/signal.cc" alt="" coords="3352,246,3461,277"/></map>
</div>
</div>
<p><a href="kernel_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structproc__context__t.html">proc_context_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The context of a process.  <a href="structproc__context__t.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structchannel__t.html">channel_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsync__event__entry__t.html">sync_event_entry_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structproc__local__t.html">proc_local_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__proc__table__t.html">_proc_table_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The process table.  <a href="struct__proc__table__t.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkernel__context__t.html">kernel_context_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">All information of the kernel.  <a href="structkernel__context__t.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structproc__stats__t.html">proc_stats_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structkernel__boot__param__t.html">kernel_boot_param_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The optional parameter to <a class="el" href="group__app.html#ga3c04138a5bfe5d72780bb7e82a18e627" title="Entry point of your application.">main(int,char**)</a> when the kernel boots.  <a href="structkernel__boot__param__t.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a4848c8aa831a1d731eddd2813cb5c97e">GetOSState</a>()&#160;&#160;&#160;<a class="el" href="kernel_8h.html#a947c0bc119bba11ab8af50f94b3c474d">os_state</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a208f767e10ee22c578178eec1e7214e6">SIG_TRIG_HANDLING_SEND</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#add9a877f74cf3256fc7158a626d5a65f">SIG_TRIG_HANDLING_CONT</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a8d3fac31134d615d90d713ae46a930d5">SIG_TRIG_HANDLING_HAND</a>&#160;&#160;&#160;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#aacd59d809c1d749e3b7bda4b93881ea8">SIG_TRIG_HANDLING_ABRT</a>&#160;&#160;&#160;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#ab8a0d73d46ebb6fa412e87ac205bfc03">_fifomem</a>&#160;&#160;&#160;((<a class="el" href="malloc_8h.html#aae844b584d40a0f5867e2e4e0fe8094a">HEAP</a>*)((char*)FIFO_MEM+<a class="el" href="daemons_8h.html#a4d61e10da6fc7183557b8fef05a5c87a">TASK_DAEMON_FIFO_SIZE</a>+<a class="el" href="helix__config_8h.html#ac9a14452bd118864786411a65143e7af">RING_CONSISTENCY_SIZE</a>))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the local FIFO memory <a class="el" href="malloc_8h.html#aae844b584d40a0f5867e2e4e0fe8094a">HEAP</a> structure.  <a href="#ab8a0d73d46ebb6fa412e87ac205bfc03"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a8ece5e488033fd134fef3c58c2e584ee">_pheap</a>&#160;&#160;&#160;((<a class="el" href="malloc_8h.html#aae844b584d40a0f5867e2e4e0fe8094a">HEAP</a>*)<a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>-&gt;heap)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the <a class="el" href="malloc_8h.html#aae844b584d40a0f5867e2e4e0fe8094a">HEAP</a> structure of this processor.  <a href="#a8ece5e488033fd134fef3c58c2e584ee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a92c0fd9bbafd520c7435afb41b1f1e65">printk</a>&#160;&#160;&#160;printf</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a73ee0e118aabd3d6373ef9d22890f631">CHAN_LABEL_PROC</a>&#160;&#160;&#160;NUM_PROCESSORS</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a98b662e16bdf3a7556072eeac7d74711">CHAN_LABEL_COND</a>&#160;&#160;&#160;0x10000000</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#aeaca81a444f57233b6093941d5087e10">cpureg_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a register of the cpu.  <a href="#aeaca81a444f57233b6093941d5087e10"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__proc__table__t.html">_proc_table_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a151ec501a2523f8a434c7b259d96151b">proc_table_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The process table.  <a href="#a151ec501a2523f8a434c7b259d96151b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a377ea6c9edb9a0cb4c553bd158580fbe">os_state_t</a> { <br/>
&#160;&#160;<a class="el" href="kernel_8h.html#a377ea6c9edb9a0cb4c553bd158580fbea0753d1a5e1542769dbede19d9514edca">OS_BOOT</a> = 0, 
<a class="el" href="kernel_8h.html#a377ea6c9edb9a0cb4c553bd158580fbeaa247e0b24bdbe2d47db4775c084c8ac5">OS_INIT</a> = 1, 
<a class="el" href="kernel_8h.html#a377ea6c9edb9a0cb4c553bd158580fbea1b1f033db08d1cefb74e04aeaeaac9a4">OS_SINGLE</a> = 2, 
<a class="el" href="kernel_8h.html#a377ea6c9edb9a0cb4c553bd158580fbeac5768f7263a08b7583de3052962d5f0c">OS_MULTI</a> = 3, 
<br/>
&#160;&#160;<a class="el" href="kernel_8h.html#a377ea6c9edb9a0cb4c553bd158580fbea53d99dd69de4f93e1202283988e1ec06">OS_SOC</a> = 4, 
<a class="el" href="kernel_8h.html#a377ea6c9edb9a0cb4c553bd158580fbeae2cca67dfce0ccab648b7830ddce57ea">OS_SHUTDOWN</a> = 5
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484">proc_state_t</a> { <br/>
&#160;&#160;<a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484aa44ad9fa6428540f9b54bb7f946f8709">NOPROC</a>, 
<a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484aec34b0b90541576a22697631105dc847">NEW</a>, 
<a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484a1061be6c3fb88d32829cba6f6b2be304">RUNNING</a>, 
<a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484a1c2114335a42993ac5cc5dbf65f83d41">SUSPENDED</a>, 
<br/>
&#160;&#160;<a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484a95e3221d7fa874623eb789940f39c932">JOINABLE</a>, 
<a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484a5dfb36109b24f39d54d5c3f48f53def8">ZOMBIE</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The states of a process.  <a href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">pid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a070c51905ae8ad68e2bdb51875bb6468">kGetPid</a> () _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the process id of the current process.  <a href="#a070c51905ae8ad68e2bdb51875bb6468"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a71c6699c46b8ad0a1de3766cdf988ffe">kCreateProcess</a> (pid_t &amp;<a class="el" href="trace_8cc.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, void *(*<a class="el" href="group__app.html#ga3c04138a5bfe5d72780bb7e82a18e627">main</a>)(void *), void *argt=NULL, <a class="el" href="kernel__types_8h.html#aab831218703b6d40fa14bd6ec1d2fcac">timems_t</a> slicelength=<a class="el" href="helix__config_8h.html#aba919e0e33ea505ec93211c698f93521">PROC_DEFAULT_TIMESLICE</a>, unsigned int stack=<a class="el" href="helix__config_8h.html#a1396a47fb22cf8a024e9e0ca4fd53ab0">PROC_DEFAULT_STACK</a>) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new process.  <a href="#a71c6699c46b8ad0a1de3766cdf988ffe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#ab09b936c993bfbea1cfae958d97db1ed">ProcessEntry</a> (void *(*<a class="el" href="group__app.html#ga3c04138a5bfe5d72780bb7e82a18e627">main</a>)(void *), void *arg) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Entry point of a process.  <a href="#ab09b936c993bfbea1cfae958d97db1ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a131cca2bceafc7f4f46dce7bac3eb51e">kGetProcessFlags</a> (pid_t <a class="el" href="trace_8cc.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, int *flags) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the process flags.  <a href="#a131cca2bceafc7f4f46dce7bac3eb51e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#ab97975dac7ad6c19d4168b31df471dd1">kSetProcessFlags</a> (pid_t <a class="el" href="trace_8cc.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, int flags) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets specific process flags.  <a href="#ab97975dac7ad6c19d4168b31df471dd1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a0327db757c513be3cb4e03fea75ede20">kGetProcessState</a> (pid_t <a class="el" href="trace_8cc.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, <a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484">proc_state_t</a> *state, bool *sighandling=NULL) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the state of a process.  <a href="#a0327db757c513be3cb4e03fea75ede20"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a61d8f69187fd2e5f7521bd2285e834bc">kSetProcessTimeslice</a> (pid_t <a class="el" href="trace_8cc.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, <a class="el" href="kernel__types_8h.html#aab831218703b6d40fa14bd6ec1d2fcac">timems_t</a> slicelength) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the length of the timeslice of an existing process.  <a href="#a61d8f69187fd2e5f7521bd2285e834bc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="kernel__types_8h.html#a77e49d03a1e611dab893961ac9886155">timeslice_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#af0f5336774a2f48f0ecb86ffe2a98089">GetRemainingTimeslice</a> () _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the remaining clock ticks before the end of the current timeslice.  <a href="#af0f5336774a2f48f0ecb86ffe2a98089"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a4a36797d67315bf7782dd5a6fbffabb8">kGetProcessStats</a> (pid_t <a class="el" href="trace_8cc.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, <a class="el" href="structproc__stats__t.html">proc_stats_t</a> *stats) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects statistics of the specified process.  <a href="#a4a36797d67315bf7782dd5a6fbffabb8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a042fff78c292d858b075822a528edaf9">kStartProcess</a> (pid_t) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a process that has been created using <a class="el" href="kernel_8h.html#a71c6699c46b8ad0a1de3766cdf988ffe" title="Creates a new process.">kCreateProcess()</a>.  <a href="#a042fff78c292d858b075822a528edaf9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#ab91f44b41a9180f07267ac1ead6dfdbd">kYield</a> (bool havework=true) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Forcably ends the timeslice of the current process.  <a href="#ab91f44b41a9180f07267ac1ead6dfdbd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a521dc76dcddd1282082c6b7f8e1e569a">kSuspend</a> (<a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a> <a class="el" href="signal_8h.html#a2ff4a1e7ebbf06b18271000ab5d1f095">sigset_t</a> *mask=NULL, <a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a> <a class="el" href="signal_8h.html#a2ff4a1e7ebbf06b18271000ab5d1f095">sigset_t</a> *wait_sticky=NULL) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspends current process until one of the non-masked signals occur.  <a href="#a521dc76dcddd1282082c6b7f8e1e569a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a6a76bb371ca312615ba5c5f33046b6c6">kEndProcess</a> (void *ret) _NO_THROW <a class="el" href="struct____attribute____.html">__attribute__</a>((noreturn))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends the current process.  <a href="#a6a76bb371ca312615ba5c5f33046b6c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a4fbbe789408d7257af2f3b0bd73bf9ef">kJoinProcess</a> (pid_t <a class="el" href="trace_8cc.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, void **ret) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Joins a <a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484a95e3221d7fa874623eb789940f39c932" title="process has ended, but waits until kJoinProcess() is called">JOINABLE</a> process.  <a href="#a4fbbe789408d7257af2f3b0bd73bf9ef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a847a95e0b86135a016db40def9286aa4">kDestroyProcess</a> (pid_t <a class="el" href="trace_8cc.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, void **ret) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys and clean up a process.  <a href="#a847a95e0b86135a016db40def9286aa4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a9bb60bc432a67999340bf2a27ae120e6">kGetZombie</a> (pid_t *<a class="el" href="trace_8cc.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, void **ret) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Looks for a <a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484a5dfb36109b24f39d54d5c3f48f53def8" title="process has ended, but not cleaned up">ZOMBIE</a> process and destroys it.  <a href="#a9bb60bc432a67999340bf2a27ae120e6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a468106d328ee635cdc50e1fad751b655">kCoreDump</a> () _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints complete state of the current process and the kernel.  <a href="#a468106d328ee635cdc50e1fad751b655"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#aabd8253bbdfe1e1389691b7c7f830236">kGetProcLocal</a> (<a class="el" href="structproc__local__t.html">proc_local_t</a> **p) _NO_THROW</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a8d0d0f8624a055770a9428bd043fd6a5">kGetChannelCount</a> (pid_t <a class="el" href="trace_8cc.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of allocated channels.  <a href="#a8d0d0f8624a055770a9428bd043fd6a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#ab14b01d3c15d03ac0ec949540990b638">kAllocChannels</a> (pid_t <a class="el" href="trace_8cc.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, int num_chan) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates memory for channels.  <a href="#ab14b01d3c15d03ac0ec949540990b638"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#aa0cd9e03a6dcd716aa8ec26798d78cb5">kAssignChannel</a> (pid_t <a class="el" href="trace_8cc.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, int chan_id, void *channel, int label=0) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns a pointer to a channel.  <a href="#aa0cd9e03a6dcd716aa8ec26798d78cb5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#ae47dc15e48fc1d299d17d1313afc5389">kSetChannelLabel</a> (pid_t <a class="el" href="trace_8cc.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, int chan_id, int label) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a new label to an existing channel.  <a href="#ae47dc15e48fc1d299d17d1313afc5389"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#acef551e09938c18b4674915fe9e1a6f8">kFindChannel</a> (int label) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Looks for a channel with the specified label.  <a href="#acef551e09938c18b4674915fe9e1a6f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#ab4e2f96359c3bc8e1841cd66ed8fcfec">kOpenChannel</a> (int channel) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the pointer corresponding to the given channel of the current process.  <a href="#ab4e2f96359c3bc8e1841cd66ed8fcfec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="hooks_8h.html#a60608a6e577367c4f9928747aea95b56">hook_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a406d0bdfe086c5eb4cf028f6a560b5b1">kGetHookTable</a> () _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the pointer to the hook table.  <a href="#a406d0bdfe086c5eb4cf028f6a560b5b1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a9dfd100e756d7e2aa7740c8489dda913">kSetSignalHandler</a> (int signum, <a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a> struct <a class="el" href="structsigaction.html">sigaction</a> *act) _NO_THROW</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a6739da9ce3f91745958200c4e5525f4b">kClearSignal</a> (int signum, struct <a class="el" href="structsigaction.html">sigaction</a> *sa) _NO_THROW</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#af8a4ca7aa349cf79f0302c82aa940d42">kSendSignal</a> (pid_t <a class="el" href="trace_8cc.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, int sig, union <a class="el" href="unionsigval.html">sigval</a> *si) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send signal to other process.  <a href="#af8a4ca7aa349cf79f0302c82aa940d42"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a77f9091c0d09a555bfe33794fa338b59">kMaskSignal</a> (int how, <a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a> <a class="el" href="signal_8h.html#a2ff4a1e7ebbf06b18271000ab5d1f095">sigset_t</a> *set, <a class="el" href="signal_8h.html#a2ff4a1e7ebbf06b18271000ab5d1f095">sigset_t</a> *oldset) _NO_THROW</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a6d0c38820dea429312d14fdbcd45cf43">kSyncEventHit</a> (pid_t <a class="el" href="trace_8cc.html#ae0d46a978d5cd6707411f276ad869b9c">pid</a>, void *event) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks specified event as hit.  <a href="#a6d0c38820dea429312d14fdbcd45cf43"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#ade9a63180e07f92038f34dcc8ebda60a">kSyncEventWait</a> (void *event, int count) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Blocks until a given event has occured.  <a href="#ade9a63180e07f92038f34dcc8ebda60a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a046abae034ad18c182a01a5cc466b882">kPanic</a> (<a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a> char *msg) _NO_THROW <a class="el" href="struct____attribute____.html">__attribute__</a>((noreturn))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints coredump and halts kernel, in case of emergency.  <a href="#a046abae034ad18c182a01a5cc466b882"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#af80c0747d727908fe6a8cacf9cc4be09">kShutdown</a> () _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts down kernel and return to bootloader.  <a href="#af80c0747d727908fe6a8cacf9cc4be09"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a7f4fccda8e6c526f13910352502a4273">kScheduleNext</a> () _NO_THROW <a class="el" href="struct____attribute____.html">__attribute__</a>((section(&quot;.text.schedule&quot;)))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the next process to schedule.  <a href="#a7f4fccda8e6c526f13910352502a4273"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a4f2533d3d9b2c62657a9d722a6c4a329">kInitContext</a> (<a class="el" href="structproc__context__t.html">proc_context_t</a> *new_context, void *(*<a class="el" href="group__app.html#ga3c04138a5bfe5d72780bb7e82a18e627">main</a>)(void *), void *arg, void *sp) _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a context of a newly created process.  <a href="#a4f2533d3d9b2c62657a9d722a6c4a329"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a39515156d59fe71794032535eb367786">kEnableInterrupt</a> () _NO_THROW</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables interrupts in the processor.  <a href="#a39515156d59fe71794032535eb367786"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a6957c5970a115b6423dd285e22b96aa0">kDisableInterrupt</a> () _NO_THROW</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a07f2e6566f212b6272752685f3579ff4">kReset</a> () _NO_THROW <a class="el" href="struct____attribute____.html">__attribute__</a>((noreturn))</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="kernel_8h.html#a377ea6c9edb9a0cb4c553bd158580fbe">os_state_t</a> <a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a947c0bc119bba11ab8af50f94b3c474d">os_state</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="kernel_8h.html#a151ec501a2523f8a434c7b259d96151b">proc_table_t</a> *<a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">currently running process  <a href="#afa048712e8a413863369b93c18956d9b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structproc__context__t.html">proc_context_t</a> *<a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a5517ad3b74016925c521c71812d11aea">current_context</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">location to store context of currently running process  <a href="#a5517ad3b74016925c521c71812d11aea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structproc__local__t.html">proc_local_t</a> *<a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a1352c7443011d705fb6866ce18de5766">proc_local</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void **<a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a4291870e45a9a554746c5d7dc5ba43c2">thread_local</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">array of thread-local data with size THREAD_LOCAL_FIELDS, initially all set to 0  <a href="#a4291870e45a9a554746c5d7dc5ba43c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structkernel__context__t.html">kernel_context_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to our kernel_context, equals kernel_contexts[<a class="el" href="device_8h.html#a03019be38c75a4741a5351cff1776f64">GetProcID()</a>]  <a href="#a7b21412447a44f3594e1eac57cda11c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a05299296d8d9b39b4fff86d127f226de">kernel_stack</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">equals &amp;<a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3" title="pointer to our kernel_context, equals kernel_contexts[GetProcID()]">kernel_context</a>-&gt;stack[KERNEL_STACK_SIZE]  <a href="#a05299296d8d9b39b4fff86d127f226de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct _reent <br class="typebreak"/>
*__ATTRIBUTE_IMPURE_PTR__&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a69471a3ff8b448af4172f71d74bed723">_impure_ptr</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">thread-local reentrancy struct of newlib, must point to process's <a class="el" href="struct__proc__table__t.html#a62e926fa72236941aa253424d3edb6b0" title="reentrancy struct of newlib (_impure_ptr must point to it)">proc_table_t::impure_data</a>  <a href="#a69471a3ff8b448af4172f71d74bed723"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct _reent *_CONST <br class="typebreak"/>
__ATTRIBUTE_IMPURE_PTR__&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kernel_8h.html#a189a14535826b5d9f61a9726c5d391d2">_global_impure_ptr</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">process-global reentrancy struct of newlib, must point to process's <a class="el" href="struct__proc__table__t.html#a62e926fa72236941aa253424d3edb6b0" title="reentrancy struct of newlib (_impure_ptr must point to it)">proc_table_t::impure_data</a>  <a href="#a189a14535826b5d9f61a9726c5d391d2"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Declaration of all kernel functions. </p>

<p>Definition in file <a class="el" href="kernel_8h_source.html">kernel.h</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="ab8a0d73d46ebb6fa412e87ac205bfc03"></a><!-- doxytag: member="kernel.h::_fifomem" ref="ab8a0d73d46ebb6fa412e87ac205bfc03" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="kernel_8h.html#ab8a0d73d46ebb6fa412e87ac205bfc03">_fifomem</a>&#160;&#160;&#160;((<a class="el" href="malloc_8h.html#aae844b584d40a0f5867e2e4e0fe8094a">HEAP</a>*)((char*)FIFO_MEM+<a class="el" href="daemons_8h.html#a4d61e10da6fc7183557b8fef05a5c87a">TASK_DAEMON_FIFO_SIZE</a>+<a class="el" href="helix__config_8h.html#ac9a14452bd118864786411a65143e7af">RING_CONSISTENCY_SIZE</a>))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer to the local FIFO memory <a class="el" href="malloc_8h.html#aae844b584d40a0f5867e2e4e0fe8094a">HEAP</a> structure. </p>

<p>Definition at line <a class="el" href="kernel_8h_source.html#l00202">202</a> of file <a class="el" href="kernel_8h_source.html">kernel.h</a>.</p>

<p>Referenced by <a class="el" href="malloc_8cc_source.html#l00264">fcalloc()</a>, <a class="el" href="malloc_8cc_source.html#l00448">ffree()</a>, <a class="el" href="malloc_8cc_source.html#l00509">ffreeAll()</a>, <a class="el" href="malloc_8cc_source.html#l00127">fmalloc()</a>, <a class="el" href="malloc_8cc_source.html#l00399">fmown()</a>, <a class="el" href="malloc_8cc_source.html#l00306">frealloc()</a>, <a class="el" href="kernel_8cc_source.html#l00260">kInitKernel()</a>, and <a class="el" href="kernel_8cc_source.html#l00468">kPanic()</a>.</p>

</div>
</div>
<a class="anchor" id="a8ece5e488033fd134fef3c58c2e584ee"></a><!-- doxytag: member="kernel.h::_pheap" ref="a8ece5e488033fd134fef3c58c2e584ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="kernel_8h.html#a8ece5e488033fd134fef3c58c2e584ee">_pheap</a>&#160;&#160;&#160;((<a class="el" href="malloc_8h.html#aae844b584d40a0f5867e2e4e0fe8094a">HEAP</a>*)<a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>-&gt;heap)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer to the <a class="el" href="malloc_8h.html#aae844b584d40a0f5867e2e4e0fe8094a">HEAP</a> structure of this processor. </p>

<p>Definition at line <a class="el" href="kernel_8h_source.html#l00204">204</a> of file <a class="el" href="kernel_8h_source.html">kernel.h</a>.</p>

<p>Referenced by <a class="el" href="malloc_8cc_source.html#l00249">calloc()</a>, <a class="el" href="malloc_8cc_source.html#l00435">free()</a>, <a class="el" href="malloc_8cc_source.html#l00496">freeAll()</a>, <a class="el" href="MallocDaemon_8cc_source.html#l00022">MallocDaemonHandler()</a>, <a class="el" href="malloc_8cc_source.html#l00384">mown()</a>, <a class="el" href="malloc_8cc_source.html#l00152">omalloc()</a>, and <a class="el" href="malloc_8cc_source.html#l00336">orealloc()</a>.</p>

</div>
</div>
<a class="anchor" id="a98b662e16bdf3a7556072eeac7d74711"></a><!-- doxytag: member="kernel.h::CHAN_LABEL_COND" ref="a98b662e16bdf3a7556072eeac7d74711" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="kernel_8h.html#a98b662e16bdf3a7556072eeac7d74711">CHAN_LABEL_COND</a>&#160;&#160;&#160;0x10000000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kernel_8h_source.html#l00269">269</a> of file <a class="el" href="kernel_8h_source.html">kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="a73ee0e118aabd3d6373ef9d22890f631"></a><!-- doxytag: member="kernel.h::CHAN_LABEL_PROC" ref="a73ee0e118aabd3d6373ef9d22890f631" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="kernel_8h.html#a73ee0e118aabd3d6373ef9d22890f631">CHAN_LABEL_PROC</a>&#160;&#160;&#160;NUM_PROCESSORS</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kernel_8h_source.html#l00268">268</a> of file <a class="el" href="kernel_8h_source.html">kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4848c8aa831a1d731eddd2813cb5c97e"></a><!-- doxytag: member="kernel.h::GetOSState" ref="a4848c8aa831a1d731eddd2813cb5c97e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="kernel_8h.html#a4848c8aa831a1d731eddd2813cb5c97e">GetOSState</a></td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="kernel_8h.html#a947c0bc119bba11ab8af50f94b3c474d">os_state</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kernel_8h_source.html#l00028">28</a> of file <a class="el" href="kernel_8h_source.html">kernel.h</a>.</p>

<p>Referenced by <a class="el" href="DefaultTaskDaemon_8cc_source.html#l01334">GetIssueSlot()</a>, <a class="el" href="kernel_8cc_source.html#l01123">kCoreDump()</a>, <a class="el" href="trace_8cc_source.html#l00449">TraceDump()</a>, and <a class="el" href="trace_8cc_source.html#l00544">TraceDumpAll()</a>.</p>

</div>
</div>
<a class="anchor" id="a92c0fd9bbafd520c7435afb41b1f1e65"></a><!-- doxytag: member="kernel.h::printk" ref="a92c0fd9bbafd520c7435afb41b1f1e65" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="kernel_8h.html#a92c0fd9bbafd520c7435afb41b1f1e65">printk</a>&#160;&#160;&#160;printf</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kernel_8h_source.html#l00262">262</a> of file <a class="el" href="kernel_8h_source.html">kernel.h</a>.</p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l00183">Disclaimer()</a>, <a class="el" href="kernel_8cc_source.html#l01123">kCoreDump()</a>, <a class="el" href="kernel_8cc_source.html#l00944">kEndProcess()</a>, <a class="el" href="kernel_8cc_source.html#l00260">kInitKernel()</a>, <a class="el" href="kernel_8cc_source.html#l00468">kPanic()</a>, and <a class="el" href="malloc_8cc_source.html#l00679">malloc_dump()</a>.</p>

</div>
</div>
<a class="anchor" id="aacd59d809c1d749e3b7bda4b93881ea8"></a><!-- doxytag: member="kernel.h::SIG_TRIG_HANDLING_ABRT" ref="aacd59d809c1d749e3b7bda4b93881ea8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="kernel_8h.html#aacd59d809c1d749e3b7bda4b93881ea8">SIG_TRIG_HANDLING_ABRT</a>&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kernel_8h_source.html#l00154">154</a> of file <a class="el" href="kernel_8h_source.html">kernel.h</a>.</p>

<p>Referenced by <a class="el" href="wrap__exit_8cc_source.html#l00008">__wrap_exit()</a>, and <a class="el" href="kernel_8cc_source.html#l01622">kScheduleProcess()</a>.</p>

</div>
</div>
<a class="anchor" id="add9a877f74cf3256fc7158a626d5a65f"></a><!-- doxytag: member="kernel.h::SIG_TRIG_HANDLING_CONT" ref="add9a877f74cf3256fc7158a626d5a65f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="kernel_8h.html#add9a877f74cf3256fc7158a626d5a65f">SIG_TRIG_HANDLING_CONT</a>&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kernel_8h_source.html#l00152">152</a> of file <a class="el" href="kernel_8h_source.html">kernel.h</a>.</p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l01622">kScheduleProcess()</a>, and <a class="el" href="kernel_8cc_source.html#l01365">kSendSignal()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d3fac31134d615d90d713ae46a930d5"></a><!-- doxytag: member="kernel.h::SIG_TRIG_HANDLING_HAND" ref="a8d3fac31134d615d90d713ae46a930d5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="kernel_8h.html#a8d3fac31134d615d90d713ae46a930d5">SIG_TRIG_HANDLING_HAND</a>&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kernel_8h_source.html#l00153">153</a> of file <a class="el" href="kernel_8h_source.html">kernel.h</a>.</p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l01622">kScheduleProcess()</a>.</p>

</div>
</div>
<a class="anchor" id="a208f767e10ee22c578178eec1e7214e6"></a><!-- doxytag: member="kernel.h::SIG_TRIG_HANDLING_SEND" ref="a208f767e10ee22c578178eec1e7214e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="kernel_8h.html#a208f767e10ee22c578178eec1e7214e6">SIG_TRIG_HANDLING_SEND</a>&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kernel_8h_source.html#l00151">151</a> of file <a class="el" href="kernel_8h_source.html">kernel.h</a>.</p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l01365">kSendSignal()</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="aeaca81a444f57233b6093941d5087e10"></a><!-- doxytag: member="kernel.h::cpureg_t" ref="aeaca81a444f57233b6093941d5087e10" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef unsigned int <a class="el" href="kernel_8h.html#aeaca81a444f57233b6093941d5087e10">cpureg_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type of a register of the cpu. </p>

<p>Definition at line <a class="el" href="kernel_8h_source.html#l00057">57</a> of file <a class="el" href="kernel_8h_source.html">kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="a151ec501a2523f8a434c7b259d96151b"></a><!-- doxytag: member="kernel.h::proc_table_t" ref="a151ec501a2523f8a434c7b259d96151b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__proc__table__t.html">_proc_table_t</a>  <a class="el" href="kernel_8h.html#a151ec501a2523f8a434c7b259d96151b">proc_table_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The process table. </p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="a377ea6c9edb9a0cb4c553bd158580fbe"></a><!-- doxytag: member="kernel.h::os_state_t" ref="a377ea6c9edb9a0cb4c553bd158580fbe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="kernel_8h.html#a377ea6c9edb9a0cb4c553bd158580fbe">os_state_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a377ea6c9edb9a0cb4c553bd158580fbea0753d1a5e1542769dbede19d9514edca"></a><!-- doxytag: member="OS_BOOT" ref="a377ea6c9edb9a0cb4c553bd158580fbea0753d1a5e1542769dbede19d9514edca" args="" -->OS_BOOT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a377ea6c9edb9a0cb4c553bd158580fbeaa247e0b24bdbe2d47db4775c084c8ac5"></a><!-- doxytag: member="OS_INIT" ref="a377ea6c9edb9a0cb4c553bd158580fbeaa247e0b24bdbe2d47db4775c084c8ac5" args="" -->OS_INIT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a377ea6c9edb9a0cb4c553bd158580fbea1b1f033db08d1cefb74e04aeaeaac9a4"></a><!-- doxytag: member="OS_SINGLE" ref="a377ea6c9edb9a0cb4c553bd158580fbea1b1f033db08d1cefb74e04aeaeaac9a4" args="" -->OS_SINGLE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a377ea6c9edb9a0cb4c553bd158580fbeac5768f7263a08b7583de3052962d5f0c"></a><!-- doxytag: member="OS_MULTI" ref="a377ea6c9edb9a0cb4c553bd158580fbeac5768f7263a08b7583de3052962d5f0c" args="" -->OS_MULTI</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a377ea6c9edb9a0cb4c553bd158580fbea53d99dd69de4f93e1202283988e1ec06"></a><!-- doxytag: member="OS_SOC" ref="a377ea6c9edb9a0cb4c553bd158580fbea53d99dd69de4f93e1202283988e1ec06" args="" -->OS_SOC</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a377ea6c9edb9a0cb4c553bd158580fbeae2cca67dfce0ccab648b7830ddce57ea"></a><!-- doxytag: member="OS_SHUTDOWN" ref="a377ea6c9edb9a0cb4c553bd158580fbeae2cca67dfce0ccab648b7830ddce57ea" args="" -->OS_SHUTDOWN</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="kernel_8h_source.html#l00018">18</a> of file <a class="el" href="kernel_8h_source.html">kernel.h</a>.</p>

</div>
</div>
<a class="anchor" id="a59775280f5f039f80ce5d63993e40484"></a><!-- doxytag: member="kernel.h::proc_state_t" ref="a59775280f5f039f80ce5d63993e40484" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484">proc_state_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The states of a process. </p>
<div align="center">
<img src="dot_inline_dotgraph_1.png" alt="dot_inline_dotgraph_1.png" border="0" usemap="#dot_inline_dotgraph_1.map"/>
<map name="dot_inline_dotgraph_1.map" id="dot_inline_dotgraph_1.map"><area shape="poly" id="edge2" href="kernel_8h.html#a71c6699c46b8ad0a1de3766cdf988ffe" title="kCreateProcess()" alt="" coords="268,53 246,79 229,105 225,103 242,76 264,49"/><area shape="rect" id="edge2" href="kernel_8h.html#a71c6699c46b8ad0a1de3766cdf988ffe" title="kCreateProcess()" alt="" coords="244,77,343,91"/><area shape="poly" id="edge4" href="kernel_8h.html#a042fff78c292d858b075822a528edaf9" title="kStartProcess()" alt="" coords="208,163 199,211 194,210 202,162"/><area shape="rect" id="edge4" href="kernel_8h.html#a042fff78c292d858b075822a528edaf9" title="kStartProcess()" alt="" coords="201,187,291,200"/><area shape="poly" id="edge6" href="kernel_8h.html#a6a76bb371ca312615ba5c5f33046b6c6" title="kEndProcess() and \n PROC_FLAG_JOINABLE" alt="" coords="143,260 84,276 60,287 46,298 40,315 42,334 37,334 35,314 42,294 58,282 83,271 142,255"/><area shape="rect" id="edge6" href="kernel_8h.html#a6a76bb371ca312615ba5c5f33046b6c6" title="kEndProcess() and \n PROC_FLAG_JOINABLE" alt="" coords="44,296,171,323"/><area shape="poly" id="edge8" href="kernel_8h.html#a6a76bb371ca312615ba5c5f33046b6c6" title="kEndProcess() and \n PROC_FLAG_DETACHED" alt="" coords="192,272 192,442 187,442 187,272"/><area shape="rect" id="edge8" href="kernel_8h.html#a6a76bb371ca312615ba5c5f33046b6c6" title="kEndProcess() and \n PROC_FLAG_DETACHED" alt="" coords="189,357,324,384"/><area shape="poly" id="edge10" href="kernel_8h.html#a4fbbe789408d7257af2f3b0bd73bf9ef" title="kJoinProcess()" alt="" coords="66,393 77,413 91,430 114,447 139,460 136,465 111,451 87,434 72,416 62,396"/><area shape="rect" id="edge10" href="kernel_8h.html#a4fbbe789408d7257af2f3b0bd73bf9ef" title="kJoinProcess()" alt="" coords="89,419,171,432"/><area shape="poly" id="edge12" href="kernel_8h.html#a847a95e0b86135a016db40def9286aa4" title="kDestroyProcess()" alt="" coords="232,470 273,457 315,438 332,424 346,409 355,391 359,370 359,139 355,107 340,79 324,60 328,56 345,76 360,106 364,139 364,371 360,393 351,412 336,428 317,442 275,462 233,475"/><area shape="rect" id="edge12" href="kernel_8h.html#a847a95e0b86135a016db40def9286aa4" title="kDestroyProcess()" alt="" coords="361,241,467,255"/></map>
</div>
 <dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a59775280f5f039f80ce5d63993e40484aa44ad9fa6428540f9b54bb7f946f8709"></a><!-- doxytag: member="NOPROC" ref="a59775280f5f039f80ce5d63993e40484aa44ad9fa6428540f9b54bb7f946f8709" args="" -->NOPROC</em>&nbsp;</td><td>
<p>invalid process </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a59775280f5f039f80ce5d63993e40484aec34b0b90541576a22697631105dc847"></a><!-- doxytag: member="NEW" ref="a59775280f5f039f80ce5d63993e40484aec34b0b90541576a22697631105dc847" args="" -->NEW</em>&nbsp;</td><td>
<p>process has been created, but not started </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a59775280f5f039f80ce5d63993e40484a1061be6c3fb88d32829cba6f6b2be304"></a><!-- doxytag: member="RUNNING" ref="a59775280f5f039f80ce5d63993e40484a1061be6c3fb88d32829cba6f6b2be304" args="" -->RUNNING</em>&nbsp;</td><td>
<p>process has been started and can be scheduled </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a59775280f5f039f80ce5d63993e40484a1c2114335a42993ac5cc5dbf65f83d41"></a><!-- doxytag: member="SUSPENDED" ref="a59775280f5f039f80ce5d63993e40484a1c2114335a42993ac5cc5dbf65f83d41" args="" -->SUSPENDED</em>&nbsp;</td><td>
<p>process waits for signal </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a59775280f5f039f80ce5d63993e40484a95e3221d7fa874623eb789940f39c932"></a><!-- doxytag: member="JOINABLE" ref="a59775280f5f039f80ce5d63993e40484a95e3221d7fa874623eb789940f39c932" args="" -->JOINABLE</em>&nbsp;</td><td>
<p>process has ended, but waits until <a class="el" href="kernel_8h.html#a4fbbe789408d7257af2f3b0bd73bf9ef" title="Joins a JOINABLE process.">kJoinProcess()</a> is called </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a59775280f5f039f80ce5d63993e40484a5dfb36109b24f39d54d5c3f48f53def8"></a><!-- doxytag: member="ZOMBIE" ref="a59775280f5f039f80ce5d63993e40484a5dfb36109b24f39d54d5c3f48f53def8" args="" -->ZOMBIE</em>&nbsp;</td><td>
<p>process has ended, but not cleaned up </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="kernel_8h_source.html#l00046">46</a> of file <a class="el" href="kernel_8h_source.html">kernel.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="af0f5336774a2f48f0ecb86ffe2a98089"></a><!-- doxytag: member="kernel.h::GetRemainingTimeslice" ref="af0f5336774a2f48f0ecb86ffe2a98089" args="() _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="kernel__types_8h.html#a77e49d03a1e611dab893961ac9886155">timeslice_t</a> <a class="el" href="kernel_8cc.html#ae741e6ffe8b7b61c49654c7410f7a868">GetRemainingTimeslice</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the remaining clock ticks before the end of the current timeslice. </p>
<p>When interrupted by the timer, race conditions can occur, which result in a reported timeslice that is too high.</p>
<p>Call from user space, does not need a syscall. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of remaining clock cycles. </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l00763">763</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, <a class="el" href="timer_8cc_source.html#l00068">kGetTimer()</a>, <a class="el" href="kernel_8cc_source.html#l00114">sch_t::remaining_slots</a>, <a class="el" href="helix__config_8h_source.html#l00188">SCHEDULE_SLOTS</a>, and <a class="el" href="kernel_8h_source.html#l00129">_proc_table_t::time_yielded</a>.</p>

<p>Referenced by <a class="el" href="trace_8cc_source.html#l00139">TraceRelTime()</a>.</p>

</div>
</div>
<a class="anchor" id="ab14b01d3c15d03ac0ec949540990b638"></a><!-- doxytag: member="kernel.h::kAllocChannels" ref="ab14b01d3c15d03ac0ec949540990b638" args="(pid_t pid, int num_chan) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#ad6c2311446d5297aea2a63ebfead05c4">kAllocChannels</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_chan</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocates memory for channels. </p>
<p>When called multiple times, the allocated memory will be resized. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>process to allocate channel memory for </td></tr>
    <tr><td class="paramname">num_chan</td><td>number of channels to allocate, will be initialized to NULL </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, otherwise an errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01198">1198</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h_source.html#l00068">channel_t::channel</a>, <a class="el" href="kernel_8h_source.html#l00141">_proc_table_t::channels</a>, <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="kernel_8h_source.html#l00069">channel_t::label</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="kernel_8h_source.html#l00140">_proc_table_t::num_channels</a>, <a class="el" href="malloc_8cc_source.html#l00336">orealloc()</a>, <a class="el" href="trace_8cc_source.html#l00250">pid</a>, and <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>.</p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l01226">kAssignChannel()</a>.</p>

</div>
</div>
<a class="anchor" id="aa0cd9e03a6dcd716aa8ec26798d78cb5"></a><!-- doxytag: member="kernel.h::kAssignChannel" ref="aa0cd9e03a6dcd716aa8ec26798d78cb5" args="(pid_t pid, int chan_id, void *channel, int label=0) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a398cae67ec6b117dfd86abaa6f9575fe">kAssignChannel</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>chan_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Assigns a pointer to a channel. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>process to assign a channel to </td></tr>
    <tr><td class="paramname">chan_id</td><td>channel to assign the pointer to, must be less than num_chan of a previous <a class="el" href="kernel_8h.html#ab14b01d3c15d03ac0ec949540990b638" title="Allocates memory for channels.">kAllocChannels()</a> call, when set to -1, a new channel is allocated at the end of the list </td></tr>
    <tr><td class="paramname">channel</td><td>to store in the channel list </td></tr>
    <tr><td class="paramname">label</td><td>an alternative label of the channel (set to 0 for no label, all negative labels are reserved by the kernel) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, otherwise an errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01226">1226</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h_source.html#l00068">channel_t::channel</a>, <a class="el" href="kernel_8h_source.html#l00141">_proc_table_t::channels</a>, <a class="el" href="kernel_8cc_source.html#l00122">DID_WORK_YES</a>, <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="kernel_8cc_source.html#l00109">sch_t::just_did_work</a>, <a class="el" href="kernel_8cc_source.html#l01198">kAllocChannels()</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="kernel_8h_source.html#l00069">channel_t::label</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="kernel_8h_source.html#l00140">_proc_table_t::num_channels</a>, <a class="el" href="trace_8cc_source.html#l00250">pid</a>, and <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>.</p>

</div>
</div>
<a class="anchor" id="a6739da9ce3f91745958200c4e5525f4b"></a><!-- doxytag: member="kernel.h::kClearSignal" ref="a6739da9ce3f91745958200c4e5525f4b" args="(int signum, struct sigaction *sa) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#aaefc9f16b529add9146a5b17115b0469">kClearSignal</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsigaction.html">sigaction</a> *&#160;</td>
          <td class="paramname"><em>sa</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01325">1325</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_2signal_8cc_source.html#l00067">_sig_def_func</a>, <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="kernel_8cc_source.html#l01416">kMaskSignal()</a>, <a class="el" href="signal_8h_source.html#l00038">NSIG</a>, <a class="el" href="signal_8h_source.html#l00075">sigaction::sa_flags</a>, <a class="el" href="signal_8h_source.html#l00079">sigaction::sa_handler</a>, <a class="el" href="signal_8h_source.html#l00076">sigaction::sa_mask</a>, <a class="el" href="signal_8h_source.html#l00123">SA_RESETHAND</a>, <a class="el" href="kernel_8h_source.html#l00115">_proc_table_t::sig_action</a>, <a class="el" href="signal_8h_source.html#l00107">SIG_BLOCK</a>, <a class="el" href="kernel_8h_source.html#l00116">_proc_table_t::sig_enabled</a>, <a class="el" href="kernel_8h_source.html#l00117">_proc_table_t::sig_triggered</a>, and <a class="el" href="signal_8h_source.html#l00099">sigaddset()</a>.</p>

</div>
</div>
<a class="anchor" id="a468106d328ee635cdc50e1fad751b655"></a><!-- doxytag: member="kernel.h::kCoreDump" ref="a468106d328ee635cdc50e1fad751b655" args="() _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a80bee10ed63d2e9e67b09f4a9ef17d09">kCoreDump</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prints complete state of the current process and the kernel. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, otherwise an errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01123">1123</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h.html#a5517ad3b74016925c521c71812d11aea">current_context</a>, <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="kernel_8h_source.html#l00142">_proc_table_t::flags</a>, <a class="el" href="kernel_8h_source.html#l00063">proc_context_t::fsr</a>, <a class="el" href="device_8h.html#a849ce054a843c28398da5b40f0918e77">GetClockFreq()</a>, <a class="el" href="kernel_8h_source.html#l00028">GetOSState</a>, <a class="el" href="device_8h_source.html#l00196">GetProcID()</a>, <a class="el" href="kernel_8cc_source.html#l00087">IS_VALID_DDR_PTR</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="kernel_8h_source.html#l00126">_proc_table_t::main</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="kernel_8h_source.html#l00133">_proc_table_t::min_stack</a>, <a class="el" href="kernel_8h_source.html#l00062">proc_context_t::msr</a>, <a class="el" href="kernel_8h_source.html#l00108">_proc_table_t::pid</a>, <a class="el" href="kernel_8h_source.html#l00262">printk</a>, <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>, <a class="el" href="kernel_8h_source.html#l00061">proc_context_t::regs</a>, <a class="el" href="kernel_8h_source.html#l00148">_proc_table_t::stack</a>, <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>, <a class="el" href="kernel_8h_source.html#l00128">_proc_table_t::time</a>, and <a class="el" href="kernel_8h_source.html#l00129">_proc_table_t::time_yielded</a>.</p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l00468">kPanic()</a>.</p>

</div>
</div>
<a class="anchor" id="a71c6699c46b8ad0a1de3766cdf988ffe"></a><!-- doxytag: member="kernel.h::kCreateProcess" ref="a71c6699c46b8ad0a1de3766cdf988ffe" args="(pid_t &amp;pid, void *(*main)(void *), void *argt=NULL, timems_t slicelength=PROC_DEFAULT_TIMESLICE, unsigned int stack=PROC_DEFAULT_STACK) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#ab02050bfd20dee07ad5c48dc98018540">kCreateProcess</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t &amp;&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *(*)(void *)&#160;</td>
          <td class="paramname"><em>main</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="kernel__types_8h.html#aab831218703b6d40fa14bd6ec1d2fcac">timems_t</a>&#160;</td>
          <td class="paramname"><em>slicelength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>stack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new process. </p>
<p>By default, a process is created detached.</p>
<p>Only the task daemon is allowed to start new processes. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the new process id will be written to the pointer supplied </td></tr>
    <tr><td class="paramname">main</td><td>the main function of this process </td></tr>
    <tr><td class="paramname">arg</td><td>an optional argument to main, can be NULL </td></tr>
    <tr><td class="paramname">slicelength</td><td>the length of the allocated time slice in ms </td></tr>
    <tr><td class="paramname">stack</td><td>the size of the stack in words </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, otherwise an errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l00545">545</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8cc_source.html#l00026">DBLED_NEWPROC</a>, <a class="el" href="kernel_8cc_source.html#l00029">DEBUG_ON</a>, <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="kernel_2signal_8cc_source.html#l00030">InitSignalList()</a>, <a class="el" href="kernel_8cc_source.html#l01017">kDestroyProcess()</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="kernel_8cc_source.html#l00530">kGetPid()</a>, <a class="el" href="kernel_8h.html#a4f2533d3d9b2c62657a9d722a6c4a329">kInitContext()</a>, <a class="el" href="kernel_8cc.html#a5eda2256972d4e67ab045cb3ebfa4ecf">kInitSignalContext()</a>, <a class="el" href="kernel_8cc_source.html#l00732">kSetProcessTimeslice()</a>, <a class="el" href="trace_8cc_source.html#l00253">main</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="mc_8h_source.html#l00230">mc_apply</a>, <a class="el" href="helix__config_8h_source.html#l00136">MEASURE_STACK_USAGE</a>, <a class="el" href="kernel_8h_source.html#l00048">NEW</a>, <a class="el" href="kernel_8h_source.html#l00047">NOPROC</a>, <a class="el" href="malloc_8cc_source.html#l00152">omalloc()</a>, <a class="el" href="trace_8cc_source.html#l00250">pid</a>, <a class="el" href="kernel__types_8h_source.html#l00041">PROC_FLAG_DETACHED</a>, <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>, <a class="el" href="pthread_8h_source.html#l00096">pthread_sch_t::processes</a>, <a class="el" href="kernel_8cc_source.html#l00108">sch_t::pthread_sch</a>, <a class="el" href="signal_8h_source.html#l00097">sigemptyset()</a>, <a class="el" href="signal_8h_source.html#l00098">sigfillset()</a>, and <a class="el" href="kernel_8cc_source.html#l00093">STACK_PROTECTION_VALUE</a>.</p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l00446">kStartTaskDaemon()</a>.</p>

</div>
</div>
<a class="anchor" id="a847a95e0b86135a016db40def9286aa4"></a><!-- doxytag: member="kernel.h::kDestroyProcess" ref="a847a95e0b86135a016db40def9286aa4" args="(pid_t pid, void **ret) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a0384b3a8ec4a91e91895ae9c44b24c56">kDestroyProcess</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroys and clean up a process. </p>
<p>Only the task daemon is allowed to destroy processes. All allocated memory will be freeed. Process statistics is not deleted, so after destroying a process, <a class="el" href="kernel_8h.html#a4a36797d67315bf7782dd5a6fbffabb8" title="Collects statistics of the specified process.">kGetProcessStats()</a> can be called. A process cannot destroy itself.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>process to destroy </td></tr>
    <tr><td class="paramname">ret</td><td>a pointer to store the return value of the process, can be NULL, holds unknown data when a non-<a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484a5dfb36109b24f39d54d5c3f48f53def8" title="process has ended, but not cleaned up">ZOMBIE</a> process is destroyed </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, otherwise an errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01017">1017</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="malloc_8cc_source.html#l00509">ffreeAll()</a>, <a class="el" href="malloc_8cc_source.html#l00496">freeAll()</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="kernel_8cc_source.html#l00530">kGetPid()</a>, <a class="el" href="trace_8cc_source.html#l00258">kTraceProcChange()</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="mc_8h_source.html#l00230">mc_apply</a>, <a class="el" href="kernel_8h_source.html#l00109">_proc_table_t::next_entry</a>, <a class="el" href="kernel_8h_source.html#l00047">NOPROC</a>, <a class="el" href="trace_8cc_source.html#l00250">pid</a>, <a class="el" href="kernel_8h_source.html#l00110">_proc_table_t::prev_entry</a>, <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>, <a class="el" href="pthread_8h_source.html#l00096">pthread_sch_t::processes</a>, <a class="el" href="kernel_8cc_source.html#l00108">sch_t::pthread_sch</a>, <a class="el" href="kernel_8h_source.html#l00127">_proc_table_t::ret</a>, <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>, <a class="el" href="kernel_8cc_source.html#l00062">td_proc</a>, <a class="el" href="kernel_8cc_source.html#l01555">TRACE</a>, and <a class="el" href="kernel_8h_source.html#l00054">ZOMBIE</a>.</p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l00545">kCreateProcess()</a>, and <a class="el" href="kernel_8cc_source.html#l01066">kGetZombie()</a>.</p>

</div>
</div>
<a class="anchor" id="a6957c5970a115b6423dd285e22b96aa0"></a><!-- doxytag: member="kernel.h::kDisableInterrupt" ref="a6957c5970a115b6423dd285e22b96aa0" args="() _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="kernel_8h.html#a6957c5970a115b6423dd285e22b96aa0">kDisableInterrupt</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l00468">kPanic()</a>, and <a class="el" href="kernel_8cc_source.html#l00509">kShutdown()</a>.</p>

</div>
</div>
<a class="anchor" id="a39515156d59fe71794032535eb367786"></a><!-- doxytag: member="kernel.h::kEnableInterrupt" ref="a39515156d59fe71794032535eb367786" args="() _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="kernel_8h.html#a39515156d59fe71794032535eb367786">kEnableInterrupt</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enables interrupts in the processor. </p>
<p>The function is implemented by entry.S. </p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l01561">kStartScheduling()</a>.</p>

</div>
</div>
<a class="anchor" id="a6a76bb371ca312615ba5c5f33046b6c6"></a><!-- doxytag: member="kernel.h::kEndProcess" ref="a6a76bb371ca312615ba5c5f33046b6c6" args="(void *ret) _NO_THROW __attribute__((noreturn))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="kernel_8cc.html#a4a51a3c1e9b2168b41774cb8d58dfe19">kEndProcess</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ret</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Ends the current process. </p>
<p>Will be called automatically when the main function of a process returns. The timeslice will always be ended by a call to <a class="el" href="kernel_8h.html#ab91f44b41a9180f07267ac1ead6dfdbd" title="Forcably ends the timeslice of the current process.">kYield()</a>. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ret</td><td>the value returned by the main of the process, which can be retrieved using <a class="el" href="kernel_8h.html#a4fbbe789408d7257af2f3b0bd73bf9ef" title="Joins a JOINABLE process.">kJoinProcess()</a> and <a class="el" href="kernel_8h.html#a847a95e0b86135a016db40def9286aa4" title="Destroys and clean up a process.">kDestroyProcess()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>never </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l00944">944</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h.html#a69471a3ff8b448af4172f71d74bed723">_impure_ptr</a>, <a class="el" href="kernel_8cc_source.html#l00137">_kernel_impure_ptr</a>, <a class="el" href="kernel_8h.html#a5517ad3b74016925c521c71812d11aea">current_context</a>, <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, <a class="el" href="kernel_8h_source.html#l00142">_proc_table_t::flags</a>, <a class="el" href="device_8h_source.html#l00196">GetProcID()</a>, <a class="el" href="kernel_8h_source.html#l00053">JOINABLE</a>, <a class="el" href="kernel_8cc_source.html#l00530">kGetPid()</a>, <a class="el" href="kernel_8cc_source.html#l00468">kPanic()</a>, <a class="el" href="kernel_8cc_source.html#l00814">kYield()</a>, <a class="el" href="kernel_8h_source.html#l00126">_proc_table_t::main</a>, <a class="el" href="kernel_8h_source.html#l00133">_proc_table_t::min_stack</a>, <a class="el" href="kernel_8h_source.html#l00262">printk</a>, <a class="el" href="kernel__types_8h_source.html#l00040">PROC_FLAG_JOINABLE</a>, <a class="el" href="kernel_8h_source.html#l00127">_proc_table_t::ret</a>, <a class="el" href="kernel_8h_source.html#l00148">_proc_table_t::stack</a>, <a class="el" href="kernel_8cc_source.html#l00093">STACK_PROTECTION_VALUE</a>, <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>, and <a class="el" href="kernel_8h_source.html#l00054">ZOMBIE</a>.</p>

</div>
</div>
<a class="anchor" id="acef551e09938c18b4674915fe9e1a6f8"></a><!-- doxytag: member="kernel.h::kFindChannel" ref="acef551e09938c18b4674915fe9e1a6f8" args="(int label) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a211a73673db6a85dbf71f70c0354674a">kFindChannel</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>label</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Looks for a channel with the specified label. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">label</td><td>the label to look for </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the channel id of the channel with the specified label, or -1 when not found </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01271">1271</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h_source.html#l00141">_proc_table_t::channels</a>, <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, <a class="el" href="kernel_8h_source.html#l00069">channel_t::label</a>, and <a class="el" href="kernel_8h_source.html#l00140">_proc_table_t::num_channels</a>.</p>

</div>
</div>
<a class="anchor" id="a8d0d0f8624a055770a9428bd043fd6a5"></a><!-- doxytag: member="kernel.h::kGetChannelCount" ref="a8d0d0f8624a055770a9428bd043fd6a5" args="(pid_t pid) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#aec8e991b381e779071c8d296db5a5215">kGetChannelCount</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the number of allocated channels. </p>
<p>This does not indicate whether channels are assigned or in use. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the process to get the information of </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The channel count or -1 when an invalid pid is supplied </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01179">1179</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h_source.html#l00141">_proc_table_t::channels</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="kernel_8h_source.html#l00047">NOPROC</a>, <a class="el" href="kernel_8h_source.html#l00140">_proc_table_t::num_channels</a>, <a class="el" href="trace_8cc_source.html#l00250">pid</a>, <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>, and <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>.</p>

</div>
</div>
<a class="anchor" id="a406d0bdfe086c5eb4cf028f6a560b5b1"></a><!-- doxytag: member="kernel.h::kGetHookTable" ref="a406d0bdfe086c5eb4cf028f6a560b5b1" args="() _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hooks_8h.html#a60608a6e577367c4f9928747aea95b56">hook_t</a>* <a class="el" href="kernel_8cc.html#a889b2a9246fc945ee2c48e771895cf2f">kGetHookTable</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the pointer to the hook table. </p>
<p>The memory region of the hook table is owned by the TaskDaemon (pid 0). </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>cannot be NULL during normal operation (it can be null during kernel initialization, just before the table is initialized) </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01301">1301</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>.</p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l00260">kInitKernel()</a>.</p>

</div>
</div>
<a class="anchor" id="a070c51905ae8ad68e2bdb51875bb6468"></a><!-- doxytag: member="kernel.h::kGetPid" ref="a070c51905ae8ad68e2bdb51875bb6468" args="() _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pid_t <a class="el" href="kernel_8cc.html#ac15d916c2ab5a6adfa64f13f43050266">kGetPid</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the process id of the current process. </p>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l00530">530</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, and <a class="el" href="kernel_8h_source.html#l00108">_proc_table_t::pid</a>.</p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l01603">kCheckStackOverflow()</a>, <a class="el" href="kernel_8cc_source.html#l00545">kCreateProcess()</a>, <a class="el" href="kernel_8cc_source.html#l01017">kDestroyProcess()</a>, <a class="el" href="kernel_8cc_source.html#l00944">kEndProcess()</a>, <a class="el" href="kernel_8cc_source.html#l00706">kGetProcessState()</a>, <a class="el" href="kernel_8cc_source.html#l01066">kGetZombie()</a>, <a class="el" href="kernel_8cc_source.html#l00509">kShutdown()</a>, <a class="el" href="kernel_8cc_source.html#l00779">kStartProcess()</a>, <a class="el" href="kernel_8cc_source.html#l01483">kSyncEventHit()</a>, <a class="el" href="kernel_8cc_source.html#l00814">kYield()</a>, and <a class="el" href="kernel_8cc_source.html#l00640">ProcessEntry()</a>.</p>

</div>
</div>
<a class="anchor" id="a131cca2bceafc7f4f46dce7bac3eb51e"></a><!-- doxytag: member="kernel.h::kGetProcessFlags" ref="a131cca2bceafc7f4f46dce7bac3eb51e" args="(pid_t pid, int *flags) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#ae0c79c082c04ae29f52e53ea5a5d9c9c">kGetProcessFlags</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the process flags. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the process to retrieve the flags of </td></tr>
    <tr><td class="paramname">flags</td><td>will receive the flags of the process, cannot be NULL </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, otherwise an errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l00687">687</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="kernel_8h_source.html#l00142">_proc_table_t::flags</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="kernel_8h_source.html#l00047">NOPROC</a>, <a class="el" href="trace_8cc_source.html#l00250">pid</a>, <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>, and <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>.</p>

</div>
</div>
<a class="anchor" id="a0327db757c513be3cb4e03fea75ede20"></a><!-- doxytag: member="kernel.h::kGetProcessState" ref="a0327db757c513be3cb4e03fea75ede20" args="(pid_t pid, proc_state_t *state, bool *sighandling=NULL) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#abcef60d3ef2cf168ced79ec4f9ed4782">kGetProcessState</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484">proc_state_t</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>sighandling</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the state of a process. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the process to retrieve the state of, -1 means myself </td></tr>
    <tr><td class="paramname">state</td><td>will receive the state of the process </td></tr>
    <tr><td class="paramname">sighandling</td><td>will set to true when the process is currently handling signals </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, otherwise an errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l00706">706</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="kernel_8cc_source.html#l00530">kGetPid()</a>, <a class="el" href="kernel_8cc_source.html#l00057">kIsInSigHandler</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="kernel_8h_source.html#l00047">NOPROC</a>, <a class="el" href="trace_8cc_source.html#l00250">pid</a>, <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>, <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>, and <a class="el" href="api_8h_source.html#l00008">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="a4a36797d67315bf7782dd5a6fbffabb8"></a><!-- doxytag: member="kernel.h::kGetProcessStats" ref="a4a36797d67315bf7782dd5a6fbffabb8" args="(pid_t pid, proc_stats_t *stats) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#aef090d8ae57af08c116c6ef8a94e5747">kGetProcessStats</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structproc__stats__t.html">proc_stats_t</a> *&#160;</td>
          <td class="paramname"><em>stats</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Collects statistics of the specified process. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the process to collect statistics of (can be an non-existing process) </td></tr>
    <tr><td class="paramname">stats</td><td>pointer to struct to write statistics to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, otherwise an errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01087">1087</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h_source.html#l00111">_proc_table_t::context</a>, <a class="el" href="kernel_8h_source.html#l00170">proc_stats_t::context</a>, <a class="el" href="kernel_8h_source.html#l00134">_proc_table_t::context_switches</a>, <a class="el" href="kernel_8h_source.html#l00175">proc_stats_t::context_switches</a>, <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="kernel_8h_source.html#l00142">_proc_table_t::flags</a>, <a class="el" href="kernel_8h_source.html#l00168">proc_stats_t::flags</a>, <a class="el" href="device_8h.html#a849ce054a843c28398da5b40f0918e77">GetClockFreq()</a>, <a class="el" href="kernel_8h_source.html#l00167">proc_stats_t::insighandler</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="kernel_8cc_source.html#l00057">kIsInSigHandler</a>, <a class="el" href="kernel_8h_source.html#l00126">_proc_table_t::main</a>, <a class="el" href="kernel_8h_source.html#l00169">proc_stats_t::main</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="kernel_8h_source.html#l00133">_proc_table_t::min_stack</a>, <a class="el" href="kernel_8h_source.html#l00174">proc_stats_t::min_stack</a>, <a class="el" href="kernel_8h_source.html#l00165">proc_stats_t::pid</a>, <a class="el" href="trace_8cc_source.html#l00250">pid</a>, <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>, <a class="el" href="helix__config_8h_source.html#l00188">SCHEDULE_SLOTS</a>, <a class="el" href="kernel_8h_source.html#l00132">_proc_table_t::slack</a>, <a class="el" href="kernel_8h_source.html#l00171">proc_stats_t::slice_length</a>, <a class="el" href="kernel_8h_source.html#l00173">proc_stats_t::slice_slack</a>, <a class="el" href="kernel_8h_source.html#l00172">proc_stats_t::slice_used</a>, <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>, <a class="el" href="kernel_8h_source.html#l00166">proc_stats_t::state</a>, <a class="el" href="kernel_8h_source.html#l00128">_proc_table_t::time</a>, <a class="el" href="kernel_8h_source.html#l00131">_proc_table_t::time_alloc</a>, <a class="el" href="kernel_8h_source.html#l00135">_proc_table_t::yields</a>, and <a class="el" href="kernel_8h_source.html#l00176">proc_stats_t::yields</a>.</p>

</div>
</div>
<a class="anchor" id="aabd8253bbdfe1e1389691b7c7f830236"></a><!-- doxytag: member="kernel.h::kGetProcLocal" ref="aabd8253bbdfe1e1389691b7c7f830236" args="(proc_local_t **p) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#ad231b0c7ac743c5863b33833aa1f38d1">kGetProcLocal</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structproc__local__t.html">proc_local_t</a> **&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01160">1160</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, and <a class="el" href="kernel_8h_source.html#l00143">_proc_table_t::proc_local</a>.</p>

</div>
</div>
<a class="anchor" id="a9bb60bc432a67999340bf2a27ae120e6"></a><!-- doxytag: member="kernel.h::kGetZombie" ref="a9bb60bc432a67999340bf2a27ae120e6" args="(pid_t *pid, void **ret) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a0e8f4c610eb9ed8186e3bbf84b22ccc2">kGetZombie</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t *&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Looks for a <a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484a5dfb36109b24f39d54d5c3f48f53def8" title="process has ended, but not cleaned up">ZOMBIE</a> process and destroys it. </p>
<p>Walks over all processes and cleans up the first <a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484a5dfb36109b24f39d54d5c3f48f53def8" title="process has ended, but not cleaned up">ZOMBIE</a> process it can find. Only the task daemon is allowed to call the function.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the process that has been cleaned up, can be NULL </td></tr>
    <tr><td class="paramname">ret</td><td>pointer to store the return value of the process in, can be NULL </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, EAGAIN when no ZOMBIEs has been found, otherwise an appropriate errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01066">1066</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8cc_source.html#l01017">kDestroyProcess()</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="kernel_8cc_source.html#l00530">kGetPid()</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>, <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>, and <a class="el" href="kernel_8h_source.html#l00054">ZOMBIE</a>.</p>

</div>
</div>
<a class="anchor" id="a4f2533d3d9b2c62657a9d722a6c4a329"></a><!-- doxytag: member="kernel.h::kInitContext" ref="a4f2533d3d9b2c62657a9d722a6c4a329" args="(proc_context_t *new_context, void *(*main)(void *), void *arg, void *sp) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="kernel_8h.html#a4f2533d3d9b2c62657a9d722a6c4a329">kInitContext</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structproc__context__t.html">proc_context_t</a> *&#160;</td>
          <td class="paramname"><em>new_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *(*)(void *)&#160;</td>
          <td class="paramname"><em>main</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes a context of a newly created process. </p>
<p>The function is implemented by entry.S. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">new_context</td><td>a pointer to the context-to-be-initialized </td></tr>
    <tr><td class="paramname">main</td><td>a pointer to the process's function </td></tr>
    <tr><td class="paramname">arg</td><td>optional argument to the main, can be NULL </td></tr>
    <tr><td class="paramname">sp</td><td>pointer to the top of the stack of this process </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l00545">kCreateProcess()</a>.</p>

</div>
</div>
<a class="anchor" id="a4fbbe789408d7257af2f3b0bd73bf9ef"></a><!-- doxytag: member="kernel.h::kJoinProcess" ref="a4fbbe789408d7257af2f3b0bd73bf9ef" args="(pid_t pid, void **ret) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a69abcace8557e0ed8d087fe69b218894">kJoinProcess</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Joins a <a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484a95e3221d7fa874623eb789940f39c932" title="process has ended, but waits until kJoinProcess() is called">JOINABLE</a> process. </p>
<p>Gets the return value of the process to join. Never blocks, so wrap in a loop when it is intended to wait until the process finishes. A <a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484a95e3221d7fa874623eb789940f39c932" title="process has ended, but waits until kJoinProcess() is called">JOINABLE</a> process will become a <a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484a5dfb36109b24f39d54d5c3f48f53def8" title="process has ended, but not cleaned up">ZOMBIE</a> when the join is successful. The function is not thread-safe.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>process to join </td></tr>
    <tr><td class="paramname">ret</td><td>pointer to store the return value of the process to join, can be NULL </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, EAGAIN when pid was not <a class="el" href="kernel_8h.html#a59775280f5f039f80ce5d63993e40484a95e3221d7fa874623eb789940f39c932" title="process has ended, but waits until kJoinProcess() is called">JOINABLE</a>, otherwise an appropiate errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l00982">982</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="kernel_8h_source.html#l00142">_proc_table_t::flags</a>, <a class="el" href="kernel_8h_source.html#l00053">JOINABLE</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="kernel_8h_source.html#l00047">NOPROC</a>, <a class="el" href="trace_8cc_source.html#l00250">pid</a>, <a class="el" href="kernel__types_8h_source.html#l00040">PROC_FLAG_JOINABLE</a>, <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>, <a class="el" href="kernel_8h_source.html#l00127">_proc_table_t::ret</a>, <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>, and <a class="el" href="kernel_8h_source.html#l00054">ZOMBIE</a>.</p>

</div>
</div>
<a class="anchor" id="a77f9091c0d09a555bfe33794fa338b59"></a><!-- doxytag: member="kernel.h::kMaskSignal" ref="a77f9091c0d09a555bfe33794fa338b59" args="(int how, const sigset_t *set, sigset_t *oldset) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#abe73a763cb52339e69b69097e01118a7">kMaskSignal</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>how</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a> <a class="el" href="signal_8h.html#a2ff4a1e7ebbf06b18271000ab5d1f095">sigset_t</a> *&#160;</td>
          <td class="paramname"><em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="signal_8h.html#a2ff4a1e7ebbf06b18271000ab5d1f095">sigset_t</a> *&#160;</td>
          <td class="paramname"><em>oldset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01416">1416</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="signal_8h_source.html#l00107">SIG_BLOCK</a>, <a class="el" href="signal_8h_source.html#l00126">SIG_BLOCKABLE</a>, <a class="el" href="kernel_8h_source.html#l00122">_proc_table_t::sig_mask</a>, <a class="el" href="signal_8h_source.html#l00106">SIG_SETMASK</a>, <a class="el" href="signal_8h_source.html#l00108">SIG_UNBLOCK</a>, <a class="el" href="signal_8h_source.html#l00104">sigandset()</a>, and <a class="el" href="signal_8h_source.html#l00103">sigorset()</a>.</p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l01325">kClearSignal()</a>, and <a class="el" href="kernel_8cc_source.html#l00892">kSuspend()</a>.</p>

</div>
</div>
<a class="anchor" id="ab4e2f96359c3bc8e1841cd66ed8fcfec"></a><!-- doxytag: member="kernel.h::kOpenChannel" ref="ab4e2f96359c3bc8e1841cd66ed8fcfec" args="(int channel) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="kernel_8cc.html#aa7eb958b6e300d661ca0ba06328505c8">kOpenChannel</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the pointer corresponding to the given channel of the current process. </p>
<p>Blocks and <a class="el" href="kernel_8h.html#ab91f44b41a9180f07267ac1ead6dfdbd" title="Forcably ends the timeslice of the current process.">kYield()</a>s until the given channel is not NULL. Note that the specified channel is not checked for validity. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>channel to open </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>pointer corresponding to the channel, cannot be NULL </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01289">1289</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h_source.html#l00068">channel_t::channel</a>, <a class="el" href="kernel_8h_source.html#l00141">_proc_table_t::channels</a>, <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, <a class="el" href="kernel_8cc_source.html#l00814">kYield()</a>, and <a class="el" href="kernel_8h_source.html#l00140">_proc_table_t::num_channels</a>.</p>

</div>
</div>
<a class="anchor" id="a046abae034ad18c182a01a5cc466b882"></a><!-- doxytag: member="kernel.h::kPanic" ref="a046abae034ad18c182a01a5cc466b882" args="(const char *msg) _NO_THROW __attribute__((noreturn))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="kernel_8cc.html#a721cb139f6072c92a9d3b678b2f00184">kPanic</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a> char *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prints coredump and halts kernel, in case of emergency. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>message to be printed, which indicates the reason of the core dump. Can be NULL. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l00468">468</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h_source.html#l00202">_fifomem</a>, <a class="el" href="uart_8cc_source.html#l00073">_puts()</a>, <a class="el" href="kernel_8cc_source.html#l00025">DBLED_PANIC</a>, <a class="el" href="kernel_8cc_source.html#l00029">DEBUG_ON</a>, <a class="el" href="device_8h.html#a4686cd354d0395599259d7c512391cad">DisableDCache()</a>, <a class="el" href="device_8h.html#a9f82096fc6ab61162aef822a86c9a7b6">DisableICache()</a>, <a class="el" href="device_8h.html#a561b9d014956c94fc705826f9d78710f">FlushDCache()</a>, <a class="el" href="device_8h_source.html#l00196">GetProcID()</a>, <a class="el" href="newlibstubs_8cc_source.html#l00266">gettimeofday()</a>, <a class="el" href="kernel_8h_source.html#l00160">kernel_context_t::heap</a>, <a class="el" href="kernel_8cc_source.html#l01123">kCoreDump()</a>, <a class="el" href="kernel_8h.html#a6957c5970a115b6423dd285e22b96aa0">kDisableInterrupt()</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="kernel_8h.html#a07f2e6566f212b6272752685f3579ff4">kReset()</a>, <a class="el" href="kernel_8cc_source.html#l00054">kSetOSState</a>, <a class="el" href="timer_8cc_source.html#l00076">kStopTimer()</a>, <a class="el" href="malloc_8cc_source.html#l00679">malloc_dump()</a>, <a class="el" href="kernel_8h_source.html#l00019">OS_BOOT</a>, and <a class="el" href="kernel_8h_source.html#l00262">printk</a>.</p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l01603">kCheckStackOverflow()</a>, <a class="el" href="kernel_8cc_source.html#l00944">kEndProcess()</a>, <a class="el" href="kernel_8cc_source.html#l00260">kInitKernel()</a>, and <a class="el" href="kernel_8cc_source.html#l00446">kStartTaskDaemon()</a>.</p>

</div>
</div>
<a class="anchor" id="a07f2e6566f212b6272752685f3579ff4"></a><!-- doxytag: member="kernel.h::kReset" ref="a07f2e6566f212b6272752685f3579ff4" args="() _NO_THROW __attribute__((noreturn))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="kernel_8h.html#a07f2e6566f212b6272752685f3579ff4">kReset</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l00468">kPanic()</a>, and <a class="el" href="kernel_8cc_source.html#l00509">kShutdown()</a>.</p>

</div>
</div>
<a class="anchor" id="a7f4fccda8e6c526f13910352502a4273"></a><!-- doxytag: member="kernel.h::kScheduleNext" ref="a7f4fccda8e6c526f13910352502a4273" args="() _NO_THROW __attribute__((section(&quot;.text.schedule&quot;)))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="kernel_8cc.html#ab49fec041d944bc5bb7038104cd65709">kScheduleNext</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determines the next process to schedule. </p>
<p>This function is called by entry.S after an interrupt. </p>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01679">1679</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8cc_source.html#l01584">ASSERT</a>, <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, <a class="el" href="kernel_8cc_source.html#l00024">DBLED_SCHEDULE</a>, <a class="el" href="kernel_8cc_source.html#l00030">DEBUG_OFF</a>, <a class="el" href="kernel_8cc_source.html#l00029">DEBUG_ON</a>, <a class="el" href="kernel_8cc_source.html#l00120">DID_WORK_NO</a>, <a class="el" href="kernel_8cc_source.html#l00122">DID_WORK_YES</a>, <a class="el" href="kernel_8cc_source.html#l00110">sch_t::have_work</a>, <a class="el" href="kernel_8cc_source.html#l00109">sch_t::just_did_work</a>, <a class="el" href="kernel_8cc_source.html#l01588">kCheckFreeStack()</a>, <a class="el" href="kernel_8cc_source.html#l01603">kCheckStackOverflow()</a>, <a class="el" href="kernel_8cc_source.html#l01622">kScheduleProcess()</a>, <a class="el" href="trace_8cc_source.html#l00402">kTraceClose()</a>, <a class="el" href="trace_8cc_source.html#l00327">kTraceScheduleYield()</a>, <a class="el" href="api_8h_source.html#l00007">likely</a>, <a class="el" href="kernel_8h_source.html#l00109">_proc_table_t::next_entry</a>, <a class="el" href="kernel_8h_source.html#l00110">_proc_table_t::prev_entry</a>, <a class="el" href="kernel_8cc_source.html#l00114">sch_t::remaining_slots</a>, <a class="el" href="kernel_8h_source.html#l00049">RUNNING</a>, <a class="el" href="helix__config_8h_source.html#l00188">SCHEDULE_SLOTS</a>, <a class="el" href="kernel_8h_source.html#l00119">_proc_table_t::sig_havetriggered</a>, <a class="el" href="kernel_8h_source.html#l00114">_proc_table_t::sig_ret</a>, <a class="el" href="kernel_8cc_source.html#l00113">sch_t::skip_taskdaemon</a>, <a class="el" href="kernel_8h_source.html#l00132">_proc_table_t::slack</a>, <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>, <a class="el" href="kernel_8h_source.html#l00051">SUSPENDED</a>, <a class="el" href="kernel_8cc_source.html#l00062">td_proc</a>, <a class="el" href="kernel_8h_source.html#l00129">_proc_table_t::time_yielded</a>, <a class="el" href="kernel_8cc_source.html#l01555">TRACE</a>, and <a class="el" href="api_8h_source.html#l00008">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="af8a4ca7aa349cf79f0302c82aa940d42"></a><!-- doxytag: member="kernel.h::kSendSignal" ref="af8a4ca7aa349cf79f0302c82aa940d42" args="(pid_t pid, int sig, union sigval *si) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a3d153b50a65f33fd6307427861e74d88">kSendSignal</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">union <a class="el" href="unionsigval.html">sigval</a> *&#160;</td>
          <td class="paramname"><em>sv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send signal to other process. </p>
<p>A signal will only be triggered (and thus handled) once.</p>
<p>When the signal was already triggered, the previous sv will be overwritten. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the process to send to </td></tr>
    <tr><td class="paramname">sig</td><td>the signal number to send </td></tr>
    <tr><td class="paramname">sv</td><td>value to pass to the handler by <a class="el" href="structsiginfo__t.html">siginfo_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ESRCH when the process does not exist (anymore), ENOENT when the signal was disabled, EAGAIN when masked, 0 on accept, otherwise another errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01365">1365</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8cc_source.html#l00122">DID_WORK_YES</a>, <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="kernel_8cc_source.html#l00109">sch_t::just_did_work</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="device_8h_source.html#l00312">laset</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="signal_8h_source.html#l00038">NSIG</a>, <a class="el" href="trace_8cc_source.html#l00250">pid</a>, <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>, <a class="el" href="kernel_8h_source.html#l00049">RUNNING</a>, <a class="el" href="kernel_8h_source.html#l00115">_proc_table_t::sig_action</a>, <a class="el" href="kernel_8h_source.html#l00116">_proc_table_t::sig_enabled</a>, <a class="el" href="kernel_8h_source.html#l00122">_proc_table_t::sig_mask</a>, <a class="el" href="kernel_8h_source.html#l00123">_proc_table_t::sig_sticky</a>, <a class="el" href="signal_8h_source.html#l00128">SIG_STICKY</a>, <a class="el" href="kernel_8h_source.html#l00120">_proc_table_t::sig_trig_handling</a>, <a class="el" href="kernel_8h_source.html#l00152">SIG_TRIG_HANDLING_CONT</a>, <a class="el" href="kernel_8h_source.html#l00151">SIG_TRIG_HANDLING_SEND</a>, <a class="el" href="kernel_8h_source.html#l00117">_proc_table_t::sig_triggered</a>, <a class="el" href="signal_8h_source.html#l00024">SIGCONT</a>, <a class="el" href="signal_8h_source.html#l00101">sigismember()</a>, <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>, <a class="el" href="kernel_8h_source.html#l00051">SUSPENDED</a>, and <a class="el" href="signal_8h_source.html#l00082">sigaction::sv</a>.</p>

</div>
</div>
<a class="anchor" id="ae47dc15e48fc1d299d17d1313afc5389"></a><!-- doxytag: member="kernel.h::kSetChannelLabel" ref="ae47dc15e48fc1d299d17d1313afc5389" args="(pid_t pid, int chan_id, int label) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a7f1df01f20303d8868e74f0989e719a8">kSetChannelLabel</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>chan_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets a new label to an existing channel. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>process that has the channel to change the label of </td></tr>
    <tr><td class="paramname">chan_id</td><td>the channel to change the label of </td></tr>
    <tr><td class="paramname">label</td><td>the new label, where 0 means 'no label' </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, otherwise an errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01256">1256</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h_source.html#l00141">_proc_table_t::channels</a>, <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="kernel_8h_source.html#l00069">channel_t::label</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="kernel_8h_source.html#l00140">_proc_table_t::num_channels</a>, <a class="el" href="trace_8cc_source.html#l00250">pid</a>, and <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>.</p>

</div>
</div>
<a class="anchor" id="ab97975dac7ad6c19d4168b31df471dd1"></a><!-- doxytag: member="kernel.h::kSetProcessFlags" ref="ab97975dac7ad6c19d4168b31df471dd1" args="(pid_t pid, int flags) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a300b853030c48858f0eced0d188612c8">kSetProcessFlags</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets specific process flags. </p>
<p>It is not safe to set the flags and join/destroy the process concurrent.</p>
<p>So, do process management of a single process in a safe manner. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, otherwise an errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l00662">662</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="kernel_8h_source.html#l00142">_proc_table_t::flags</a>, <a class="el" href="kernel_8h_source.html#l00053">JOINABLE</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="kernel_8h_source.html#l00047">NOPROC</a>, <a class="el" href="trace_8cc_source.html#l00250">pid</a>, <a class="el" href="kernel__types_8h_source.html#l00041">PROC_FLAG_DETACHED</a>, <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>, <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>, and <a class="el" href="kernel_8h_source.html#l00054">ZOMBIE</a>.</p>

</div>
</div>
<a class="anchor" id="a61d8f69187fd2e5f7521bd2285e834bc"></a><!-- doxytag: member="kernel.h::kSetProcessTimeslice" ref="a61d8f69187fd2e5f7521bd2285e834bc" args="(pid_t pid, timems_t slicelength) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a0c8b0ba864ea12f0559c61874036795f">kSetProcessTimeslice</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="kernel__types_8h.html#aab831218703b6d40fa14bd6ec1d2fcac">timems_t</a>&#160;</td>
          <td class="paramname"><em>slicelength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Changes the length of the timeslice of an existing process. </p>
<p>When pid is the current process, the new time is effective after the next context switch </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the process to change the timeslice of, which must exist </td></tr>
    <tr><td class="paramname">slicelength</td><td>the length of the allocated time slice in ms </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, otherwise an errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l00732">732</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="device_8h.html#a849ce054a843c28398da5b40f0918e77">GetClockFreq()</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="trace_8cc_source.html#l00258">kTraceProcChange()</a>, <a class="el" href="kernel_8h_source.html#l00126">_proc_table_t::main</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="kernel_8h_source.html#l00047">NOPROC</a>, <a class="el" href="trace_8cc_source.html#l00250">pid</a>, <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>, <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>, <a class="el" href="kernel_8h_source.html#l00128">_proc_table_t::time</a>, and <a class="el" href="kernel_8cc_source.html#l01555">TRACE</a>.</p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l00545">kCreateProcess()</a>.</p>

</div>
</div>
<a class="anchor" id="a9dfd100e756d7e2aa7740c8489dda913"></a><!-- doxytag: member="kernel.h::kSetSignalHandler" ref="a9dfd100e756d7e2aa7740c8489dda913" args="(int signum, const struct sigaction *act) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#ad4c9248a1cdf947f15fff528dea46898">kSetSignalHandler</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a> struct <a class="el" href="structsigaction.html">sigaction</a> *&#160;</td>
          <td class="paramname"><em>act</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01305">1305</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="signal_8h_source.html#l00038">NSIG</a>, <a class="el" href="signal_8h_source.html#l00079">sigaction::sa_handler</a>, <a class="el" href="kernel_8h_source.html#l00115">_proc_table_t::sig_action</a>, <a class="el" href="kernel_8h_source.html#l00116">_proc_table_t::sig_enabled</a>, <a class="el" href="signal_8h_source.html#l00127">SIG_HANDLEABLE</a>, <a class="el" href="kernel_8h_source.html#l00117">_proc_table_t::sig_triggered</a>, <a class="el" href="signal_8h_source.html#l00099">sigaddset()</a>, <a class="el" href="signal_8h_source.html#l00024">SIGCONT</a>, and <a class="el" href="signal_8h_source.html#l00100">sigdelset()</a>.</p>

</div>
</div>
<a class="anchor" id="af80c0747d727908fe6a8cacf9cc4be09"></a><!-- doxytag: member="kernel.h::kShutdown" ref="af80c0747d727908fe6a8cacf9cc4be09" args="() _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a6b46db337054df057344ae05e29b43db">kShutdown</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shuts down kernel and return to bootloader. </p>
<p>Not gracefull, no process termination, just reboot immediately. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>EPERM when another process than the task daemon tries to shutdown, otherwise never </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l00509">509</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="device_8h.html#a4686cd354d0395599259d7c512391cad">DisableDCache()</a>, <a class="el" href="device_8h.html#a9f82096fc6ab61162aef822a86c9a7b6">DisableICache()</a>, <a class="el" href="kernel_8h.html#a6957c5970a115b6423dd285e22b96aa0">kDisableInterrupt()</a>, <a class="el" href="kernel_8cc_source.html#l00530">kGetPid()</a>, <a class="el" href="kernel_8h.html#a07f2e6566f212b6272752685f3579ff4">kReset()</a>, and <a class="el" href="kernel_8cc_source.html#l00035">TDEBUG</a>.</p>

</div>
</div>
<a class="anchor" id="a042fff78c292d858b075822a528edaf9"></a><!-- doxytag: member="kernel.h::kStartProcess" ref="a042fff78c292d858b075822a528edaf9" args="(pid_t) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a82ebacc8496cf56e9df915b1103222f5">kStartProcess</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Starts a process that has been created using <a class="el" href="kernel_8h.html#a71c6699c46b8ad0a1de3766cdf988ffe" title="Creates a new process.">kCreateProcess()</a>. </p>
<p>Only the task daemon is allowed to start processes. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the process to start </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, otherwise an errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l00779">779</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, <a class="el" href="kernel_8cc_source.html#l00026">DBLED_NEWPROC</a>, <a class="el" href="kernel_8cc_source.html#l00030">DEBUG_OFF</a>, <a class="el" href="kernel_8cc_source.html#l00122">DID_WORK_YES</a>, <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="kernel_8cc_source.html#l00109">sch_t::just_did_work</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="kernel_8cc_source.html#l00530">kGetPid()</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="kernel_8h_source.html#l00048">NEW</a>, <a class="el" href="kernel_8h_source.html#l00109">_proc_table_t::next_entry</a>, <a class="el" href="trace_8cc_source.html#l00250">pid</a>, <a class="el" href="kernel_8h_source.html#l00110">_proc_table_t::prev_entry</a>, <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>, <a class="el" href="kernel_8h_source.html#l00049">RUNNING</a>, <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>, and <a class="el" href="kernel_8cc_source.html#l00062">td_proc</a>.</p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l00446">kStartTaskDaemon()</a>.</p>

</div>
</div>
<a class="anchor" id="a521dc76dcddd1282082c6b7f8e1e569a"></a><!-- doxytag: member="kernel.h::kSuspend" ref="a521dc76dcddd1282082c6b7f8e1e569a" args="(const sigset_t *mask=NULL, const sigset_t *wait_sticky=NULL) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a3eb42bba3fa00f76d1a1b1ac584cfea7">kSuspend</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a> <a class="el" href="signal_8h.html#a2ff4a1e7ebbf06b18271000ab5d1f095">sigset_t</a> *&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a> <a class="el" href="signal_8h.html#a2ff4a1e7ebbf06b18271000ab5d1f095">sigset_t</a> *&#160;</td>
          <td class="paramname"><em>wait_sticky</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Suspends current process until one of the non-masked signals occur. </p>
<p>Cannot be called from within a signal handler </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mask</td><td>ignore all signals specified in this set (NULL=no mask) </td></tr>
    <tr><td class="paramname">wait_sticky</td><td>keep suspended until one of the wait_sticky sticky signals were triggered (NULL or none set=don't care; continue on any signal) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l00892">892</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8cc_source.html#l01584">ASSERT</a>, <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="kernel_8cc_source.html#l00057">kIsInSigHandler</a>, <a class="el" href="kernel_8cc_source.html#l01416">kMaskSignal()</a>, <a class="el" href="kernel_8cc_source.html#l00814">kYield()</a>, <a class="el" href="device_8h_source.html#l00314">launset</a>, <a class="el" href="kernel_8h_source.html#l00049">RUNNING</a>, <a class="el" href="signal_8h_source.html#l00107">SIG_BLOCK</a>, <a class="el" href="signal_8h_source.html#l00106">SIG_SETMASK</a>, <a class="el" href="kernel_8h_source.html#l00123">_proc_table_t::sig_sticky</a>, <a class="el" href="signal_8h_source.html#l00128">SIG_STICKY</a>, <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>, and <a class="el" href="kernel_8h_source.html#l00051">SUSPENDED</a>.</p>

</div>
</div>
<a class="anchor" id="a6d0c38820dea429312d14fdbcd45cf43"></a><!-- doxytag: member="kernel.h::kSyncEventHit" ref="a6d0c38820dea429312d14fdbcd45cf43" args="(pid_t pid, void *event) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a4a0a27df3e770e1c8888fae620cf0087">kSyncEventHit</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Marks specified event as hit. </p>
<p>Increments hit counter corresponding to specified event.</p>
<p>Should only be called from the task daemon. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>the process to sent the hit to </td></tr>
    <tr><td class="paramname">event</td><td>the event that has been hit </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ENOMEM when out of event records, 0 on success, otherwise an errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01483">1483</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h_source.html#l00074">sync_event_entry_t::event</a>, <a class="el" href="kernel_8h_source.html#l00075">sync_event_entry_t::hit</a>, <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a>, <a class="el" href="kernel_8cc_source.html#l01449">kFindEventEntry()</a>, <a class="el" href="kernel_8cc_source.html#l00530">kGetPid()</a>, <a class="el" href="helix__config_8h_source.html#l00129">MAX_PROCESSES</a>, <a class="el" href="trace_8cc_source.html#l00250">pid</a>, <a class="el" href="kernel_8h_source.html#l00159">kernel_context_t::proc_table</a>, <a class="el" href="kernel_8h_source.html#l00049">RUNNING</a>, <a class="el" href="kernel_8h_source.html#l00125">_proc_table_t::state</a>, and <a class="el" href="kernel_8h_source.html#l00051">SUSPENDED</a>.</p>

</div>
</div>
<a class="anchor" id="ade9a63180e07f92038f34dcc8ebda60a"></a><!-- doxytag: member="kernel.h::kSyncEventWait" ref="ade9a63180e07f92038f34dcc8ebda60a" args="(void *event, int count) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a9311ebfad1bae5efed571b7103e33df4">kSyncEventWait</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Blocks until a given event has occured. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>the event to wait for </td></tr>
    <tr><td class="paramname">count</td><td>the number of hits to wait for </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ENOMEM when out of empty event records, 0 on success, otherwise an errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l01524">1524</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, <a class="el" href="kernel_8h_source.html#l00074">sync_event_entry_t::event</a>, <a class="el" href="kernel_8h_source.html#l00075">sync_event_entry_t::hit</a>, <a class="el" href="kernel_8cc_source.html#l01449">kFindEventEntry()</a>, <a class="el" href="kernel_8cc_source.html#l00814">kYield()</a>, and <a class="el" href="kernel_8h_source.html#l00076">sync_event_entry_t::wait</a>.</p>

</div>
</div>
<a class="anchor" id="ab91f44b41a9180f07267ac1ead6dfdbd"></a><!-- doxytag: member="kernel.h::kYield" ref="ab91f44b41a9180f07267ac1ead6dfdbd" args="(bool havework=true) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="kernel_8cc.html#a505234ecb7b50794d55df4e59f5326df">kYield</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>havework</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Forcably ends the timeslice of the current process. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>fix, several race conditions exist! </dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">havework</td><td>set to false when no work has been done and none is expected soon; this prevents rapid rescheduling </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, otherwise an errno </dd></dl>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l00814">814</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8cc_source.html#l01584">ASSERT</a>, <a class="el" href="helix__config_8h_source.html#l00192">CONTEXT_SWITCH_CYCLE_PANELTY</a>, <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a>, <a class="el" href="kernel_8cc_source.html#l00121">DID_WORK_MAYBE</a>, <a class="el" href="kernel_8cc_source.html#l00120">DID_WORK_NO</a>, <a class="el" href="kernel_8cc_source.html#l00122">DID_WORK_YES</a>, <a class="el" href="api_8h_source.html#l00067">ESUCCESS</a>, <a class="el" href="kernel_8cc_source.html#l00110">sch_t::have_work</a>, <a class="el" href="pthread_8h_source.html#l00095">pthread_sch_t::idle</a>, <a class="el" href="kernel_8cc_source.html#l00109">sch_t::just_did_work</a>, <a class="el" href="kernel_8cc_source.html#l00530">kGetPid()</a>, <a class="el" href="timer_8cc_source.html#l00068">kGetTimer()</a>, <a class="el" href="timer_8cc_source.html#l00022">kSetTimer()</a>, <a class="el" href="trace_8cc_source.html#l00283">kTraceYield()</a>, <a class="el" href="device_8h_source.html#l00348">laend()</a>, <a class="el" href="device_8h_source.html#l00339">lastart()</a>, <a class="el" href="mc_8h_source.html#l00221">mc_entry_wou</a>, <a class="el" href="mc_8h_source.html#l00222">mc_exit_wou</a>, <a class="el" href="kernel_8cc_source.html#l00108">sch_t::pthread_sch</a>, <a class="el" href="kernel_8cc_source.html#l00114">sch_t::remaining_slots</a>, <a class="el" href="helix__config_8h_source.html#l00188">SCHEDULE_SLOTS</a>, <a class="el" href="kernel_8h_source.html#l00132">_proc_table_t::slack</a>, <a class="el" href="kernel_8h_source.html#l00129">_proc_table_t::time_yielded</a>, <a class="el" href="kernel_8cc_source.html#l01555">TRACE</a>, <a class="el" href="kernel_8cc_source.html#l00111">sch_t::was_idle</a>, and <a class="el" href="kernel_8h_source.html#l00135">_proc_table_t::yields</a>.</p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l00944">kEndProcess()</a>, <a class="el" href="kernel_8cc_source.html#l01289">kOpenChannel()</a>, <a class="el" href="kernel_8cc_source.html#l00892">kSuspend()</a>, and <a class="el" href="kernel_8cc_source.html#l01524">kSyncEventWait()</a>.</p>

</div>
</div>
<a class="anchor" id="ab09b936c993bfbea1cfae958d97db1ed"></a><!-- doxytag: member="kernel.h::ProcessEntry" ref="ab09b936c993bfbea1cfae958d97db1ed" args="(void *(*main)(void *), void *arg) _NO_THROW" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="kernel_8cc.html#ab96af073ecdd6f0a8f2bc25176901778">ProcessEntry</a> </td>
          <td>(</td>
          <td class="paramtype">void *(*)(void *)&#160;</td>
          <td class="paramname"><em>main</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Entry point of a process. </p>
<p>Initializes some stuff and calls the entry point as specified using <a class="el" href="kernel_8h.html#a71c6699c46b8ad0a1de3766cdf988ffe" title="Creates a new process.">kCreateProcess()</a>. </p>

<p>Definition at line <a class="el" href="kernel_8cc_source.html#l00640">640</a> of file <a class="el" href="kernel_8cc_source.html">kernel.cc</a>.</p>

<p>References <a class="el" href="kernel_8cc_source.html#l00032">DEBUG</a>, <a class="el" href="ShutdownDaemon_8cc_source.html#l00034">do_gracefull_exit_funs()</a>, <a class="el" href="kernel_8cc_source.html#l00530">kGetPid()</a>, <a class="el" href="trace_8cc_source.html#l00253">main</a>, <a class="el" href="pthread_8cc_source.html#l00302">pthread_thread_cleanup()</a>, <a class="el" href="pthread_8cc_source.html#l00289">pthread_thread_init()</a>, <a class="el" href="trace_8h_source.html#l00035">TRACE_PHASE_RUNNING</a>, <a class="el" href="trace_8cc_source.html#l00556">TraceExitProc()</a>, and <a class="el" href="trace_8cc_source.html#l00210">TracePhaseChange()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a189a14535826b5d9f61a9726c5d391d2"></a><!-- doxytag: member="kernel.h::_global_impure_ptr" ref="a189a14535826b5d9f61a9726c5d391d2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct _reent* _CONST __ATTRIBUTE_IMPURE_PTR__ <a class="el" href="kernel_8h.html#a189a14535826b5d9f61a9726c5d391d2">_global_impure_ptr</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>process-global reentrancy struct of newlib, must point to process's <a class="el" href="struct__proc__table__t.html#a62e926fa72236941aa253424d3edb6b0" title="reentrancy struct of newlib (_impure_ptr must point to it)">proc_table_t::impure_data</a> </p>
<p>Is defined in entry.S </p>

</div>
</div>
<a class="anchor" id="a69471a3ff8b448af4172f71d74bed723"></a><!-- doxytag: member="kernel.h::_impure_ptr" ref="a69471a3ff8b448af4172f71d74bed723" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct _reent* __ATTRIBUTE_IMPURE_PTR__ <a class="el" href="kernel_8h.html#a69471a3ff8b448af4172f71d74bed723">_impure_ptr</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>thread-local reentrancy struct of newlib, must point to process's <a class="el" href="struct__proc__table__t.html#a62e926fa72236941aa253424d3edb6b0" title="reentrancy struct of newlib (_impure_ptr must point to it)">proc_table_t::impure_data</a> </p>
<p>Is defined in entry.S </p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l01603">kCheckStackOverflow()</a>, <a class="el" href="kernel_8cc_source.html#l00944">kEndProcess()</a>, <a class="el" href="kernel_8cc_source.html#l00260">kInitKernel()</a>, and <a class="el" href="kernel_8cc_source.html#l01622">kScheduleProcess()</a>.</p>

</div>
</div>
<a class="anchor" id="a5517ad3b74016925c521c71812d11aea"></a><!-- doxytag: member="kernel.h::current_context" ref="a5517ad3b74016925c521c71812d11aea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structproc__context__t.html">proc_context_t</a>* <a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a> <a class="el" href="kernel_8h.html#a5517ad3b74016925c521c71812d11aea">current_context</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>location to store context of currently running process </p>
<p>Is defined in entry.S </p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l01588">kCheckFreeStack()</a>, <a class="el" href="kernel_8cc_source.html#l01603">kCheckStackOverflow()</a>, <a class="el" href="kernel_8cc_source.html#l01123">kCoreDump()</a>, <a class="el" href="kernel_8cc_source.html#l00944">kEndProcess()</a>, <a class="el" href="kernel_8cc_source.html#l00260">kInitKernel()</a>, and <a class="el" href="kernel_8cc_source.html#l01622">kScheduleProcess()</a>.</p>

</div>
</div>
<a class="anchor" id="afa048712e8a413863369b93c18956d9b"></a><!-- doxytag: member="kernel.h::current_proc" ref="afa048712e8a413863369b93c18956d9b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="kernel_8h.html#a151ec501a2523f8a434c7b259d96151b">proc_table_t</a>* <a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a> <a class="el" href="kernel_8h.html#afa048712e8a413863369b93c18956d9b">current_proc</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>currently running process </p>
<p>Is defined in entry.S </p>

<p>Referenced by <a class="el" href="wrap__exit_8cc_source.html#l00008">__wrap_exit()</a>, <a class="el" href="kernel_8cc_source.html#l00763">GetRemainingTimeslice()</a>, <a class="el" href="kernel_8cc_source.html#l01588">kCheckFreeStack()</a>, <a class="el" href="kernel_8cc_source.html#l01603">kCheckStackOverflow()</a>, <a class="el" href="kernel_8cc_source.html#l01325">kClearSignal()</a>, <a class="el" href="kernel_8cc_source.html#l01123">kCoreDump()</a>, <a class="el" href="kernel_8cc_source.html#l00944">kEndProcess()</a>, <a class="el" href="kernel_8cc_source.html#l01271">kFindChannel()</a>, <a class="el" href="kernel_8cc_source.html#l00530">kGetPid()</a>, <a class="el" href="kernel_8cc_source.html#l00706">kGetProcessState()</a>, <a class="el" href="kernel_8cc_source.html#l01160">kGetProcLocal()</a>, <a class="el" href="kernel_8cc_source.html#l00260">kInitKernel()</a>, <a class="el" href="kernel_8cc_source.html#l01416">kMaskSignal()</a>, <a class="el" href="kernel_8cc_source.html#l01289">kOpenChannel()</a>, <a class="el" href="kernel_8cc_source.html#l01679">kScheduleNext()</a>, <a class="el" href="kernel_8cc_source.html#l01622">kScheduleProcess()</a>, <a class="el" href="kernel_8cc_source.html#l01305">kSetSignalHandler()</a>, <a class="el" href="kernel_8cc_source.html#l00779">kStartProcess()</a>, <a class="el" href="kernel_8cc_source.html#l00892">kSuspend()</a>, <a class="el" href="kernel_8cc_source.html#l01524">kSyncEventWait()</a>, and <a class="el" href="kernel_8cc_source.html#l00814">kYield()</a>.</p>

</div>
</div>
<a class="anchor" id="a7b21412447a44f3594e1eac57cda11c3"></a><!-- doxytag: member="kernel.h::kernel_context" ref="a7b21412447a44f3594e1eac57cda11c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structkernel__context__t.html">kernel_context_t</a>* <a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3">kernel_context</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pointer to our kernel_context, equals kernel_contexts[<a class="el" href="device_8h.html#a03019be38c75a4741a5351cff1776f64">GetProcID()</a>] </p>
<p>Is defined in entry.S </p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l01198">kAllocChannels()</a>, <a class="el" href="kernel_8cc_source.html#l01226">kAssignChannel()</a>, <a class="el" href="kernel_8cc_source.html#l01123">kCoreDump()</a>, <a class="el" href="kernel_8cc_source.html#l00545">kCreateProcess()</a>, <a class="el" href="kernel_8cc_source.html#l01017">kDestroyProcess()</a>, <a class="el" href="kernel_8cc_source.html#l01179">kGetChannelCount()</a>, <a class="el" href="kernel_8cc_source.html#l01301">kGetHookTable()</a>, <a class="el" href="kernel_8cc_source.html#l00687">kGetProcessFlags()</a>, <a class="el" href="kernel_8cc_source.html#l00706">kGetProcessState()</a>, <a class="el" href="kernel_8cc_source.html#l01087">kGetProcessStats()</a>, <a class="el" href="kernel_8cc_source.html#l01066">kGetZombie()</a>, <a class="el" href="kernel_8cc_source.html#l00260">kInitKernel()</a>, <a class="el" href="kernel_8cc_source.html#l00982">kJoinProcess()</a>, <a class="el" href="kernel_8cc_source.html#l00468">kPanic()</a>, <a class="el" href="kernel_8cc_source.html#l01365">kSendSignal()</a>, <a class="el" href="kernel_8cc_source.html#l01256">kSetChannelLabel()</a>, <a class="el" href="kernel_8cc_source.html#l00662">kSetProcessFlags()</a>, <a class="el" href="kernel_8cc_source.html#l00732">kSetProcessTimeslice()</a>, <a class="el" href="kernel_8cc_source.html#l00779">kStartProcess()</a>, and <a class="el" href="kernel_8cc_source.html#l01483">kSyncEventHit()</a>.</p>

</div>
</div>
<a class="anchor" id="a05299296d8d9b39b4fff86d127f226de"></a><!-- doxytag: member="kernel.h::kernel_stack" ref="a05299296d8d9b39b4fff86d127f226de" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int* <a class="el" href="kernel_8h.html#a05299296d8d9b39b4fff86d127f226de">kernel_stack</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>equals &amp;<a class="el" href="kernel_8h.html#a7b21412447a44f3594e1eac57cda11c3" title="pointer to our kernel_context, equals kernel_contexts[GetProcID()]">kernel_context</a>-&gt;stack[KERNEL_STACK_SIZE] </p>
<p>Is defined in entry.S </p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l00260">kInitKernel()</a>.</p>

</div>
</div>
<a class="anchor" id="a947c0bc119bba11ab8af50f94b3c474d"></a><!-- doxytag: member="kernel.h::os_state" ref="a947c0bc119bba11ab8af50f94b3c474d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="kernel_8h.html#a377ea6c9edb9a0cb4c553bd158580fbe">os_state_t</a> <a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a> <a class="el" href="kernel_8h.html#a947c0bc119bba11ab8af50f94b3c474d">os_state</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a1352c7443011d705fb6866ce18de5766"></a><!-- doxytag: member="kernel.h::proc_local" ref="a1352c7443011d705fb6866ce18de5766" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structproc__local__t.html">proc_local_t</a>* <a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a> <a class="el" href="kernel_8h.html#a1352c7443011d705fb6866ce18de5766">proc_local</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l01622">kScheduleProcess()</a>, <a class="el" href="mc_8cc_source.html#l00027">mc_error()</a>, and <a class="el" href="mc_8cc_source.html#l00023">mc_set_error()</a>.</p>

</div>
</div>
<a class="anchor" id="a4291870e45a9a554746c5d7dc5ba43c2"></a><!-- doxytag: member="kernel.h::thread_local" ref="a4291870e45a9a554746c5d7dc5ba43c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void** <a class="el" href="device_8h.html#a4588b12eae6951d9c976a65d6869b47f">const</a> <a class="el" href="kernel_8h.html#a4291870e45a9a554746c5d7dc5ba43c2">thread_local</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>array of thread-local data with size THREAD_LOCAL_FIELDS, initially all set to 0 </p>

<p>Referenced by <a class="el" href="kernel_8cc_source.html#l01622">kScheduleProcess()</a>, <a class="el" href="MallocDaemon_8cc_source.html#l00107">MallocDaemon()</a>, <a class="el" href="MallocDaemon_8cc_source.html#l00022">MallocDaemonHandler()</a>, and <a class="el" href="DefaultTaskDaemon_8cc_source.html#l00145">StatsInit()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="kernel_8h.html">kernel.h</a>      </li>

    <li class="footer">Generated on Tue Apr 28 2015 16:39:19 for Starburst by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
